_.extend(YouYuChatUtil,{getCheatCode:function(){var t,e;return t=AV.Object.extend("CheatCode"),e=new AV.Query(t),e.equalTo("objectId","563c9abb60b2c82f2b951424"),e.find({success:function(t){return function(t){return base.baseState.set("notalk",t[0].attributes.notalk),base.baseState.set("auth_code",t[0].attributes.auth_code),base.baseState.set("cheat_code_token",t[0].attributes.token),base.baseState.set("white_list",t[0].attributes.white_list),base.baseState.set("white_list_open",t[0].attributes.white_list_open),base.baseState.set("broad_cast",t[0].attributes.broad_cast)}}(this)})},setCheatCode:function(t,e,s){var a,n,o,r;if(s||(s=""),md5(s)!==base.baseState.get("cheat_code_token"))return console.log("permit denied");switch(a=AV.Object.createWithoutData("CheatCode","563c9abb60b2c82f2b951424"),t){case"shutup":return base.baseState.set("notalk",!1),a.set("notalk",e),o=e?"管理员开启了全员禁言":"管理员关闭了全员禁言",a.save({success:function(){return base.baseState.get("room").send({text:o,attr:{msgLevel:"system"}},{type:"text"},function(t){return util.clearInput(),t.msg=o,util.showSystemMsg(t)})}});case"changeAuthCode":return a.set("auth_code",md5(e)),o="授权码被改变页面将会被重新载入",a.save({success:function(){return base.baseState.get("room").send({text:o,attr:{msgLevel:"system",reload:!0}},{type:"text"},function(t){return util.refreshPage({msg:{attr:{reload:!0}}}),util.clearInput(),t.msg=o,util.showSystemMsg(t)})}});case"changeToken":return a.set("token",md5(e)),o="Token被改变页面即将重新载入",a.save({success:function(){return base.baseState.get("room").send({text:o,attr:{msgLevel:"system",reload:!0}},{type:"text"},function(t){return util.refreshPage({msg:{attr:{reload:!0}}}),util.clearInput(),t.msg=o,util.showSystemMsg(t)})}});case"changeNoTalk":return base.baseState.set("notalk",e);case"whiteListGet":return base.baseState.get("white_list");case"whiteListSet":return a.set("white_list",e),o="白名单被重置",a.save({success:function(){return base.baseState.get("room").send({text:o,attr:{msgLevel:"system",reload:!0}},{type:"text"},function(t){return util.refreshPage({msg:{attr:{reload:!0}}})})}});case"whiteListAdd":return r=base.baseState.get("white_list"),r=_.extend(r,e),a.set("white_list",r),a.save({success:function(){return console.log(r),base.baseState.set("white_list",r)}});case"whiteListRemove":return r=base.baseState.get("white_list"),n=this.getKeyByValue(r,e),delete r[n],a.set("white_list",r),a.save({success:function(){return o="白名单里删除了"+e,base.baseState.set("white_list",r),base.baseState.get("room").send({text:o,attr:{msgLevel:"system",userReload:n}},{type:"text"},function(t){})}});case"whiteListOpen":return a.set("white_list_open",e),o=e?"开启白名单功能":"关闭白名单功能",a.save({success:function(){return base.baseState.get("room").send({text:o,attr:{msgLevel:"system",reload:!0}},{type:"text"},function(t){return util.refreshPage({msg:{attr:{reload:!0}}})})}});case"broadCastSet":return a.set("broad_cast",e),base.baseState.set("broad_cast",e),a.save({success:function(){return console.log("通知更改完成")}});case"broadCastPush":return o=base.baseState.get("broad_cast"),util.showBroadCast({msg:{text:o}}),base.baseState.get("room").send({text:o,attr:{msgLevel:"broad_cast"}},{type:"text","transient":!0},function(t){});default:return console.log("no command")}}}),window.talklocal=function(t){return util.setCheatCode("changeNoTalk",!1,t)},window.talkon=function(t){return util.setCheatCode("shutup",!1,t)},window.talkoff=function(t){return util.setCheatCode("shutup",!0,t)},window.tokenchange=function(t,e){return util.setCheatCode("changeToken",e,t)},window.authcode=function(t,e){return util.setCheatCode("changeAuthCode",e,t)},window.listget=function(t){return util.setCheatCode("whiteListGet","",t)},window.listset=function(t,e){return util.setCheatCode("whiteListSet",e,t)},window.listpush=function(t,e){return util.setCheatCode("whiteListAdd",e,t)},window.listpop=function(t,e){return util.setCheatCode("whiteListRemove",e,t)},window.liston=function(t){return util.setCheatCode("whiteListOpen",!0,t)},window.listoff=function(t){return util.setCheatCode("whiteListOpen",!1,t)},window.castset=function(t,e){return util.setCheatCode("broadCastSet",e,t)},window.castpush=function(t,e){return util.setCheatCode("broadCastPush","",t)};