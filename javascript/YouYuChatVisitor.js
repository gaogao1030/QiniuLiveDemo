var visitorAccess;visitorAccess=function(){return $(document).on("visitor:started",function(){return util.showInfo("正在连接有渔直播室...")}),$(document).on("visitor:room:connected",function(){var e,t;return util.showInfo("欢迎来到有渔直播课堂，您可通过下方聊天框与直播老师互动。"),util.showBroadCast({msg:{text:base.baseState.get("broad_cast")}}),t=base.baseState.get("room"),e=base.baseState.get("realtime"),t.join(function(){return base.getLog(t)}),t.receive(function(e){return util.refreshPage(e),"member"===util.parseMsgLevel(e)?util.showMsg(e):"broad_cast"===util.parseMsgLevel(e)?util.showBroadCast(e):util.showSystemMsg(e)}),e.on("reuse",function(){return util.showInfo("正在重新连接有渔直播聊天系统")}),e.on("error",function(){return util.showInfo("好像有什么不对劲 请打开console 查看相关日志 ")}),e.on("join",function(e){return _.each(e.m,function(e){var t;return t=e.split(":")[1],t!==base.baseState.get("client_id")?(t=util.parseClientIdToName(t),util.showInfo(t+"加入有渔直播间")):void 0})}),e.on("kicked",function(e){return console.log(e)})}),$(document).on("visitor:pressEnter",function(){return alert("你目前还未输入姓名，不可以发言")}),$(document).on("visitor:inputSend:click",function(){return util.elements.changeName.modal("show")}),$(document).on("visitor:confirmName:click",function(){var e;return e=util.elements.inputNickName.val(),util.inWhiteList(e)||!base.baseState.get("white_list_open")?(base.baseState.set("client_id",e),util.isEmptyString(e)?alert("昵称不能为空"):(base.closeRealTime(base.baseState.get("realtime")),util.elements.changeName.modal("hide"))):alert("你输入的昵称不在白名单中")})};