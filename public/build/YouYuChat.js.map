{"version":3,"sources":["webpack:///YouYuChat.js","webpack:///./src/YouYuChat/javascript/YouYuChatBase.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatUtil.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatCheatCode.coffee","webpack:///./src/YouYuChat/stylesheets/YouYuChat.scss","webpack:///./~/charenc/charenc.js","webpack:///./src/YouYuChat/javascript/YouYuChatConfig.coffee","webpack:///./~/md5/md5.js","webpack:///./src/YouYuChat/YouYuChatEnter.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatConsole.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatExpose.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatMain.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatPlayer.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatState.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatUser.coffee","webpack:///./src/YouYuChat/javascript/YouYuChatVisitor.coffee","webpack:///./~/crypt/crypt.js","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/md5/~/is-buffer/index.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/YouYuChat/stylesheets/YouYuChat.scss?7f7d"],"names":["webpackJsonp","module","exports","__webpack_require__","YouYuChatState","youyu_chat_state","YouYuChatBase","baseState","set","key","value","get","createRealtime","client_id","result","_","isUndefined","this","AV","realtime","appId","clientId","secure","getConversation","conv","promise","q","Promise","initialize","Object","extend","Query","equalTo","find","success","_this","response","conv_id","ref","id","attributes","m","$","document","trigger","resolve","error","err","reject","connectRoom","on","room","createRoom","room_name","name","attr","room_id","members","closeRealTime","close","getLog","log","t","data","l","length","timestamp","reverse","clearRoomMembers","list","remove","console","base","YouYuChatUtil","elements","body","printWall","sendMsgBtn","inputSend","inputNickName","confirmName","changeName","chatArea","modalDialog","coverText","templates","showlog","showmsg","showsystemmsg","showmymsg","showinfo","template","$template","obj","html","isVisitor","blacklist","indexOf","timeoutPromise","ms","delayPromise","timeout_promise","setTimeout","then","Error","race","formatTime","time","date","Date","format","renderToPrintWall","isBefore","scrollTop","scrollHeight","insertBefore","children","append","scrollToBottomPrintWall","showInfo","msg","showLog","encodeHTML","source","String","replace","isEmptyString","string","clearInput","val","showMsg","from","from_name","text","fromPeerId","split","parseClientIdToName","type","msg_time","showMyMsg","showBroadCast","notice","showSystemMsg","showChatLog","each","parseMsgLevel","white_list","white_list_open","refreshPage","reload","window","location","userReload","msgLevel","getKeyByValue","v","keys","map","compact","inWhiteList","code","has","getSliceCount","init_count","sliceCount","slice_count","push","getSliceMember","slice_members","count","slice","fetchOnlineUser","current_ping_count","m_count","online_members","should_ping_count","ping","flatten","Config","YouYuChatConsole","md5","util","youyu_chat_console","YouYuChatCheatCode","getCheatCode","cheatCode","cheat_code_id","res","notalk","auth_code","token","broad_cast","live_stream","setCheatCode","commnad","permit","createWithoutData","save","send","save_as_file","transient","without","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","i","charCodeAt","fromCharCode","join","YouYuChatConfig","appid","appkey","crypt","isBuffer","message","options","constructor","encoding","Array","prototype","call","isArray","toString","bytesToWords","a","b","c","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","endian","x","s","n","_blocksize","_digestsize","digestbytes","wordsToBytes","asBytes","asString","bytesToHex","filename","blob","e","JSON","stringify","Blob","createEvent","createElement","download","href","URL","createObjectURL","dataset","downloadurl","initMouseEvent","dispatchEvent","cheat_code","talklocal","talkon","talkoff","tokenchange","oldtoken","newtoken","authcode","listget","listset","listpush","listpop","liston","listoff","castset","castpush","onlineuser","onlineusercount","noticeset","setstream","liveStram","screentoggle","$chatarea","$livearea","toggleClass","YouYuChatPlayer","player","userAccess","visitorAccess","registerEvent","keyCode","$coverText","height","width","init","addClass","css","hash","currentClient","offline_members","filter","member","state","inited","container","playerContainer","class","controls","src","videojs","$live_area","play","msgTime","logFlag","receive","alert","modal","base64map","rotl","rotr","Number","randomBytes","Math","floor","random","words","hex","hexToBytes","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","imod4","pow","item","modules","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","parts","addStyle","listToStyles","newStyles","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","revokeObjectURL","btoa","updateLink","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","Boolean","content","locals","hot","accept","newContent","dispose"],"mappings":"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","file":"YouYuChat.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(8);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar YouYuChatState, youyu_chat_state;\n\t\n\tYouYuChatState = __webpack_require__(13);\n\t\n\tyouyu_chat_state = new YouYuChatState;\n\t\n\tmodule.exports = function() {\n\t  var YouYuChatBase;\n\t  return YouYuChatBase = {\n\t    baseState: (function() {\n\t      return {\n\t        set: function(key, value) {\n\t          return youyu_chat_state[key] = value;\n\t        },\n\t        get: function(key) {\n\t          return youyu_chat_state[key];\n\t        }\n\t      };\n\t    })(),\n\t    createRealtime: function(client_id) {\n\t      var result;\n\t      if (!_.isUndefined(client_id)) {\n\t        this.baseState.set(\"client_id\", client_id);\n\t      }\n\t      result = AV.realtime({\n\t        appId: this.baseState.get('appid'),\n\t        clientId: this.baseState.get('room_name') + ':' + this.baseState.get(\"client_id\"),\n\t        secure: false\n\t      });\n\t      this.baseState.set(\"realtime\", result);\n\t      return result;\n\t    },\n\t    getConversation: function() {\n\t      var conv, promise, q;\n\t      promise = new AV.Promise;\n\t      AV.initialize(this.baseState.get('appid'), this.baseState.get('appkey'));\n\t      conv = AV.Object.extend('_conversation');\n\t      q = new AV.Query(conv);\n\t      q.equalTo('attr.room_id', this.baseState.get('room_name'));\n\t      q.find({\n\t        success: (function(_this) {\n\t          return function(response) {\n\t            var conv_id, ref;\n\t            conv_id = ((ref = response[0]) != null ? ref.id : void 0) || \"null\";\n\t            _this.baseState.set(\"members\", response[0].attributes.m);\n\t            _this.baseState.set(\"conv_id\", conv_id);\n\t            $(document).trigger(\"conversation_id:Got\");\n\t            return promise.resolve(conv_id);\n\t          };\n\t        })(this),\n\t        error: (function(_this) {\n\t          return function(err) {\n\t            return promise.reject(err);\n\t          };\n\t        })(this)\n\t      });\n\t      return promise;\n\t    },\n\t    connectRoom: function() {\n\t      var promise, realtime;\n\t      promise = new AV.Promise;\n\t      this.createRealtime();\n\t      realtime = this.baseState.get('realtime');\n\t      return realtime.on('open', (function(_this) {\n\t        return function() {\n\t          return realtime.room(_this.baseState.get('conv_id'), function(room) {\n\t            _this.baseState.set(\"room\", room);\n\t            $(document).trigger(\"room:connected\");\n\t            return promise.resolve(room);\n\t          });\n\t        };\n\t      })(this));\n\t    },\n\t    createRoom: function(room_name, client_id) {\n\t      var promise, realtime;\n\t      promise = new AV.Promise;\n\t      this.createRealtime(client_id);\n\t      realtime = this.baseState.get(\"realtime\");\n\t      this.baseState.set(\"room_name\", room_name);\n\t      this.baseState.set(\"client_id\", client_id);\n\t      return realtime.on('open', (function(_this) {\n\t        return function() {\n\t          return realtime.room({\n\t            name: _this.baseState.get('room_name'),\n\t            attr: {\n\t              room_id: _this.baseState.get('room_name')\n\t            },\n\t            members: [_this.baseState.get('room_name') + \":\" + _this.baseState.get(\"client_id\")]\n\t          }, function(room) {\n\t            _this.baseState.set('room', room);\n\t            $(document).trigger(\"room:created\");\n\t            return promise.resolve(room);\n\t          });\n\t        };\n\t      })(this));\n\t    },\n\t    closeRealTime: function(realtime) {\n\t      var promise;\n\t      promise = new AV.Promise;\n\t      realtime.close();\n\t      realtime.on('close', function() {\n\t        promise.resolve();\n\t        return $(document).trigger(\"realtime:closed\");\n\t      });\n\t      return promise;\n\t    },\n\t    getLog: function(room) {\n\t      var promise;\n\t      promise = new AV.Promise;\n\t      this.baseState.set('room', room);\n\t      if (this.baseState.get('logFlag')) {\n\t        return;\n\t      } else {\n\t        this.baseState.set('logFlag', true);\n\t      }\n\t      room.log({\n\t        t: this.baseState.get('msgTime')\n\t      }, (function(_this) {\n\t        return function(data) {\n\t          var l;\n\t          _this.baseState.set('logFlag', false);\n\t          l = data.length;\n\t          if (l) {\n\t            _this.baseState.set('msgTime', data[0].timestamp);\n\t            data.reverse();\n\t          }\n\t          _this.baseState.set('log', data);\n\t          $(document).trigger(\"log:got\");\n\t          return promise.resolve(data);\n\t        };\n\t      })(this));\n\t      return promise;\n\t    },\n\t    clearRoomMembers: function(room) {\n\t      return room.list(function(data) {\n\t        return room.remove(data, function() {\n\t          return console.log(\"clearn room members\");\n\t        });\n\t      });\n\t    }\n\t  };\n\t};\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar YouYuChatBase, base;\n\t\n\tYouYuChatBase = __webpack_require__(1);\n\t\n\tbase = new YouYuChatBase;\n\t\n\tmodule.exports = function() {\n\t  var YouYuChatUtil;\n\t  return YouYuChatUtil = {\n\t    elements: function() {\n\t      return {\n\t        body: $(\"body\"),\n\t        printWall: $(\"#printWall\"),\n\t        sendMsgBtn: $(\"#btnSend\"),\n\t        inputSend: $(\"#chatInput\"),\n\t        inputNickName: $(\"#inputNickName\"),\n\t        confirmName: $(\"#confirmName\"),\n\t        changeName: $(\"#changeName\"),\n\t        chatArea: $(\".chat-area\"),\n\t        modalDialog: $(\".modal-dialog\"),\n\t        coverText: $(\".cover-text\")\n\t      };\n\t    },\n\t    templates: function() {\n\t      return {\n\t        showlog: $(\"#showlog\"),\n\t        showmsg: $(\"#showmsg\"),\n\t        showsystemmsg: $(\"#showsystemmsg\"),\n\t        showmymsg: $(\"#showmymsg\"),\n\t        showinfo: $(\"#showinfo\")\n\t      };\n\t    },\n\t    template: function($template, obj) {\n\t      var template;\n\t      template = $template.html();\n\t      return _.template(template)(obj);\n\t    },\n\t    isVisitor: function() {\n\t      var blacklist;\n\t      blacklist = [\"游客\", \"\"];\n\t      if (_.indexOf(blacklist, base.baseState.get('client_id')) !== -1) {\n\t        return true;\n\t      }\n\t      return false;\n\t    },\n\t    timeoutPromise: function(promise, ms) {\n\t      var delayPromise, timeout_promise;\n\t      delayPromise = function() {\n\t        return new AV.Promise(function(resolve) {\n\t          return setTimeout(resolve, ms);\n\t        });\n\t      };\n\t      timeout_promise = delayPromise(ms).then(function() {\n\t        return Promise.reject(new Error(\"请求超时\"));\n\t      });\n\t      return AV.Promise.race([promise, timeout_promise]);\n\t    },\n\t    formatTime: function(time) {\n\t      var date;\n\t      date = new Date(time);\n\t      return $.format.date(date, \"hh:mm:ss\");\n\t    },\n\t    renderToPrintWall: function(template, isBefore) {\n\t      var printWall;\n\t      printWall = this.elements().printWall;\n\t      printWall.scrollTop(printWall[0].scrollHeight);\n\t      if (isBefore) {\n\t        $(template).insertBefore(printWall.children()[0]);\n\t      } else {\n\t        printWall.append(template);\n\t      }\n\t      return this.scrollToBottomPrintWall();\n\t    },\n\t    showInfo: function(msg) {\n\t      var template;\n\t      template = this.template(this.templates().showinfo, {\n\t        msg: msg\n\t      });\n\t      return this.renderToPrintWall(template);\n\t    },\n\t    showLog: function(msg, isBefore) {\n\t      var template;\n\t      template = this.template(this.templates().showlog, {\n\t        msg: this.encodeHTML(msg)\n\t      });\n\t      return this.renderToPrintWall(template, isBefore);\n\t    },\n\t    encodeHTML: function(source) {\n\t      return String(source).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t    },\n\t    isEmptyString: function(string) {\n\t      if (String(string).replace(/^\\s+/, '').replace(/\\s+$/, '') !== \"\") {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    clearInput: function() {\n\t      return this.elements().inputSend.val('');\n\t    },\n\t    scrollToBottomPrintWall: function() {\n\t      var printWall;\n\t      printWall = this.elements().printWall;\n\t      return printWall.scrollTop(printWall[0].scrollHeight);\n\t    },\n\t    showMsg: function(data, isBefore) {\n\t      var from, from_name, template, text;\n\t      text = '';\n\t      from = data.fromPeerId;\n\t      from_name = from.split(\":\")[1];\n\t      from_name = this.parseClientIdToName(from_name);\n\t      if (data.msg.type) {\n\t        text = data.msg.text;\n\t      } else {\n\t        text = data.msg;\n\t      }\n\t      if (!this.isEmptyString(text)) {\n\t        template = this.template(this.templates().showmsg, {\n\t          msg_time: this.formatTime(data.timestamp),\n\t          from_name: this.encodeHTML(from_name),\n\t          text: this.encodeHTML(text)\n\t        });\n\t        return this.renderToPrintWall(template, isBefore);\n\t      }\n\t    },\n\t    showMyMsg: function(data, text, isBefore) {\n\t      var template;\n\t      template = this.template(this.templates().showmymsg, {\n\t        msg_time: this.formatTime(data.t),\n\t        from_name: this.parseClientIdToName(base.baseState.get('client_id')),\n\t        text: this.encodeHTML(text)\n\t      });\n\t      return this.renderToPrintWall(template, isBefore);\n\t    },\n\t    showBroadCast: function(notice, isBefore) {\n\t      return this.renderToPrintWall(notice.msg.text, isBefore);\n\t    },\n\t    showSystemMsg: function(data, isBefore) {\n\t      var template, text;\n\t      if (data.msg.type) {\n\t        text = data.msg.text;\n\t      } else {\n\t        text = data.msg;\n\t      }\n\t      template = this.template(this.templates().showsystemmsg, {\n\t        text: text\n\t      });\n\t      return this.renderToPrintWall(template, isBefore);\n\t    },\n\t    showChatLog: function() {\n\t      var log, printWall;\n\t      log = base.baseState.get('log');\n\t      printWall = this.elements().printWall;\n\t      return _.each(log, (function(_this) {\n\t        return function(log) {\n\t          if (_this.parseMsgLevel(log) === \"member\") {\n\t            return _this.showMsg(log, true);\n\t          } else {\n\t            return _this.showSystemMsg(log, true);\n\t          }\n\t        };\n\t      })(this));\n\t    },\n\t    parseClientIdToName: function(client_id) {\n\t      var name, white_list, white_list_open;\n\t      white_list_open = base.baseState.get('white_list_open');\n\t      white_list = base.baseState.get('white_list');\n\t      if (white_list_open) {\n\t        name = white_list[client_id];\n\t        if (_.isUndefined(name)) {\n\t          return client_id;\n\t        }\n\t        return name;\n\t      } else {\n\t        return client_id;\n\t      }\n\t    },\n\t    refreshPage: function(data) {\n\t      if (data.msg.attr.reload) {\n\t        return window.location.reload();\n\t      } else if (data.msg.attr.userReload === base.baseState.get('client_id')) {\n\t        return window.location.reload();\n\t      }\n\t    },\n\t    parseMsgLevel: function(data) {\n\t      return data.msg.attr.msgLevel;\n\t    },\n\t    getKeyByValue: function(obj, v) {\n\t      var keys;\n\t      keys = _.map(obj, function(value, key) {\n\t        if (value === v) {\n\t          return key;\n\t        }\n\t      });\n\t      return _.compact(keys)[0];\n\t    },\n\t    inWhiteList: function(code) {\n\t      return _.has(base.baseState.get(\"white_list\"), code);\n\t    },\n\t    getSliceCount: function() {\n\t      var init_count, sliceCount, slice_count;\n\t      slice_count = [];\n\t      init_count = 0;\n\t      return sliceCount = function(length) {\n\t        if (init_count >= length) {\n\t          return slice_count;\n\t        } else {\n\t          init_count = init_count + 20;\n\t          slice_count.push(init_count);\n\t          return sliceCount(length);\n\t        }\n\t      };\n\t    },\n\t    getSliceMember: function(members, slice_count) {\n\t      var init_count, slice_members;\n\t      slice_members = [];\n\t      init_count = 0;\n\t      _.each(slice_count, function(count) {\n\t        slice_members.push(members.slice(init_count, count));\n\t        return init_count = count;\n\t      });\n\t      return slice_members;\n\t    },\n\t    fetchOnlineUser: function() {\n\t      var conv, promise, q;\n\t      promise = new AV.Promise;\n\t      conv = AV.Object.extend('_conversation');\n\t      q = new AV.Query(conv);\n\t      q.equalTo('attr.room_id', base.baseState.get('room_name'));\n\t      q.find({\n\t        success: (function(_this) {\n\t          return function(response) {\n\t            var conv_id, current_ping_count, m_count, members, online_members, realtime, ref, should_ping_count, sliceCount, slice_count, slice_members;\n\t            conv_id = ((ref = response[0]) != null ? ref.id : void 0) || \"null\";\n\t            base.baseState.set(\"members\", response[0].attributes.m);\n\t            realtime = base.baseState.get('realtime');\n\t            members = base.baseState.get('members');\n\t            m_count = members.length;\n\t            online_members = [];\n\t            sliceCount = _this.getSliceCount();\n\t            slice_count = sliceCount(m_count);\n\t            should_ping_count = slice_count.length;\n\t            current_ping_count = 0;\n\t            slice_members = _this.getSliceMember(members, slice_count);\n\t            return _.each(slice_members, function(members) {\n\t              return realtime.ping(members, function(data) {\n\t                current_ping_count += 1;\n\t                online_members.push(data);\n\t                if (current_ping_count === should_ping_count) {\n\t                  online_members = _.flatten(online_members);\n\t                  base.baseState.set(\"online_members\", online_members);\n\t                  promise.resolve(base.baseState.get(\"online_members\"));\n\t                  return $(document).trigger(\"fetchOnlineUser:done\");\n\t                }\n\t              });\n\t            });\n\t          };\n\t        })(this),\n\t        error: (function(_this) {\n\t          return function(err) {};\n\t        })(this)\n\t      });\n\t      return promise;\n\t    }\n\t  };\n\t};\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Config, YouYuChatBase, YouYuChatConsole, YouYuChatUtil, base, md5, util, youyu_chat_console;\n\t\n\tYouYuChatBase = __webpack_require__(1);\n\t\n\tYouYuChatUtil = __webpack_require__(2);\n\t\n\tConfig = __webpack_require__(6);\n\t\n\tmd5 = __webpack_require__(7);\n\t\n\tutil = new YouYuChatUtil;\n\t\n\tbase = new YouYuChatBase;\n\t\n\tYouYuChatConsole = __webpack_require__(9);\n\t\n\tyouyu_chat_console = new YouYuChatConsole;\n\t\n\tmodule.exports = function() {\n\t  var YouYuChatCheatCode;\n\t  return YouYuChatCheatCode = {\n\t    getCheatCode: function() {\n\t      var cheatCode, q;\n\t      cheatCode = AV.Object.extend(\"CheatCode\");\n\t      q = new AV.Query(cheatCode);\n\t      q.equalTo(\"objectId\", Config.cheat_code_id);\n\t      return q.find({\n\t        success: (function(_this) {\n\t          return function(res) {\n\t            base.baseState.set('notalk', res[0].attributes.notalk);\n\t            base.baseState.set('auth_code', res[0].attributes.auth_code);\n\t            base.baseState.set('cheat_code_token', res[0].attributes.token);\n\t            base.baseState.set('white_list', res[0].attributes.white_list);\n\t            base.baseState.set('white_list_open', res[0].attributes.white_list_open);\n\t            base.baseState.set('broad_cast', res[0].attributes.broad_cast);\n\t            base.baseState.set('notice', res[0].attributes.notice);\n\t            return base.baseState.set('live_stream', res[0].attributes.live_stream);\n\t          };\n\t        })(this)\n\t      });\n\t    },\n\t    setCheatCode: function(commnad, attr, permit) {\n\t      var code, text, white_list;\n\t      permit || (permit = \"\");\n\t      if (md5(permit) === base.baseState.get(\"cheat_code_token\")) {\n\t        code = AV.Object.createWithoutData('CheatCode', Config.cheat_code_id);\n\t        switch (commnad) {\n\t          case \"shutup\":\n\t            base.baseState.set('notalk', false);\n\t            code.set('notalk', attr);\n\t            if (attr) {\n\t              text = \"管理员开启了全员禁言\";\n\t            } else {\n\t              text = \"管理员关闭了全员禁言\";\n\t            }\n\t            return code.save({\n\t              success: function() {\n\t                return base.baseState.get('room').send({\n\t                  text: text,\n\t                  attr: {\n\t                    msgLevel: \"system\"\n\t                  }\n\t                }, {\n\t                  type: 'text'\n\t                }, function(data) {\n\t                  util.clearInput();\n\t                  data.msg = text;\n\t                  return util.showSystemMsg(data);\n\t                });\n\t              }\n\t            });\n\t          case \"changeAuthCode\":\n\t            code.set('auth_code', md5(attr));\n\t            text = \"授权码被改变页面将会被重新载入\";\n\t            return code.save({\n\t              success: function() {\n\t                return base.baseState.get('room').send({\n\t                  text: text,\n\t                  attr: {\n\t                    msgLevel: \"system\",\n\t                    reload: true\n\t                  }\n\t                }, {\n\t                  type: 'text'\n\t                }, function(data) {\n\t                  util.refreshPage({\n\t                    msg: {\n\t                      attr: {\n\t                        reload: true\n\t                      }\n\t                    }\n\t                  });\n\t                  util.clearInput();\n\t                  data.msg = text;\n\t                  return util.showSystemMsg(data);\n\t                });\n\t              }\n\t            });\n\t          case \"changeToken\":\n\t            code.set('token', md5(attr));\n\t            text = \"Token被改变页面即将重新载入\";\n\t            return code.save({\n\t              success: function() {\n\t                return base.baseState.get('room').send({\n\t                  text: text,\n\t                  attr: {\n\t                    msgLevel: \"system\",\n\t                    reload: true\n\t                  }\n\t                }, {\n\t                  type: 'text'\n\t                }, function(data) {\n\t                  util.refreshPage({\n\t                    msg: {\n\t                      attr: {\n\t                        reload: true\n\t                      }\n\t                    }\n\t                  });\n\t                  util.clearInput();\n\t                  data.msg = text;\n\t                  return util.showSystemMsg(data);\n\t                });\n\t              }\n\t            });\n\t          case \"changeNoTalk\":\n\t            return base.baseState.set(\"notalk\", attr);\n\t          case 'whiteListGet':\n\t            if (attr.save_as_file) {\n\t              return youyu_chat_console.save(base.baseState.get(\"white_list\"), \"whiteList.json\");\n\t            } else {\n\t              return base.baseState.get(\"white_list\");\n\t            }\n\t            break;\n\t          case 'whiteListSet':\n\t            code.set(\"white_list\", attr);\n\t            text = \"白名单被重置\";\n\t            return code.save({\n\t              success: function() {\n\t                return base.baseState.get('room').send({\n\t                  text: text,\n\t                  attr: {\n\t                    msgLevel: \"system\",\n\t                    reload: true\n\t                  }\n\t                }, {\n\t                  type: 'text'\n\t                }, function(data) {\n\t                  return util.refreshPage({\n\t                    msg: {\n\t                      attr: {\n\t                        reload: true\n\t                      }\n\t                    }\n\t                  });\n\t                });\n\t              }\n\t            });\n\t          case 'whiteListAdd':\n\t            white_list = base.baseState.get('white_list');\n\t            white_list = _.extend(white_list, attr);\n\t            code.set(\"white_list\", white_list);\n\t            return code.save({\n\t              success: function() {\n\t                console.log(white_list);\n\t                return base.baseState.set(\"white_list\", white_list);\n\t              }\n\t            });\n\t          case 'whiteListRemove':\n\t            return this.getCheatCode().then(function() {\n\t              var key;\n\t              white_list = base.baseState.get('white_list');\n\t              key = util.getKeyByValue(white_list, attr);\n\t              delete white_list[key];\n\t              code.set(\"white_list\", white_list);\n\t              return code.save({\n\t                success: function() {\n\t                  var room_name;\n\t                  text = \"白名单里删除了\" + attr;\n\t                  base.baseState.set(\"white_list\", white_list);\n\t                  room_name = base.baseState.get('room_name');\n\t                  base.baseState.get('room').remove(room_name + \":\" + key);\n\t                  return base.baseState.get('room').send({\n\t                    text: text,\n\t                    attr: {\n\t                      msgLevel: \"system\",\n\t                      userReload: key\n\t                    }\n\t                  }, {\n\t                    type: 'text'\n\t                  }, function(data) {});\n\t                }\n\t              });\n\t            });\n\t          case 'whiteListOpen':\n\t            code.set(\"white_list_open\", attr);\n\t            if (attr) {\n\t              text = \"开启白名单功能\";\n\t            } else {\n\t              text = \"关闭白名单功能\";\n\t            }\n\t            return code.save({\n\t              success: function() {\n\t                return base.baseState.get('room').send({\n\t                  text: text,\n\t                  attr: {\n\t                    msgLevel: \"system\",\n\t                    reload: true\n\t                  }\n\t                }, {\n\t                  type: 'text'\n\t                }, function(data) {\n\t                  return util.refreshPage({\n\t                    msg: {\n\t                      attr: {\n\t                        reload: true\n\t                      }\n\t                    }\n\t                  });\n\t                });\n\t              }\n\t            });\n\t          case 'broadCastSet':\n\t            code.set(\"broad_cast\", attr);\n\t            base.baseState.set(\"broad_cast\", attr);\n\t            return code.save({\n\t              success: function() {\n\t                return console.log(\"广播更改完成\");\n\t              }\n\t            });\n\t          case 'broadCastPush':\n\t            text = base.baseState.get(\"broad_cast\");\n\t            util.showBroadCast({\n\t              msg: {\n\t                text: text\n\t              }\n\t            });\n\t            return base.baseState.get('room').send({\n\t              text: text,\n\t              attr: {\n\t                msgLevel: \"broad_cast\"\n\t              }\n\t            }, {\n\t              type: 'text',\n\t              transient: true\n\t            }, function(data) {});\n\t          case 'noticeSet':\n\t            code.set(\"notice\", attr);\n\t            base.baseState.set(\"notice\", attr);\n\t            return code.save({\n\t              success: function() {\n\t                return console.log(\"通知更改完成\");\n\t              }\n\t            });\n\t          case 'getOnlineUser':\n\t            return util.fetchOnlineUser().then(function(online_members) {\n\t              return console.log(online_members);\n\t            });\n\t          case 'getOnlineUserCount':\n\t            return util.fetchOnlineUser().then(function(online_members) {\n\t              online_members = _.without(online_members, \"qiniuLive:游客\");\n\t              return console.log(online_members.length);\n\t            });\n\t          case 'setLiveStream':\n\t            code.set(\"live_stream\", attr);\n\t            base.baseState.set(\"live_stream\", attr);\n\t            return code.save({\n\t              success: function() {\n\t                return console.log(\"直播流已设置\");\n\t              }\n\t            });\n\t          default:\n\t            return console.log(\"no command\");\n\t        }\n\t      } else {\n\t        return console.log(\"permit denied\");\n\t      }\n\t    }\n\t  };\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(17)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"body{background-color:#000}.live-area{width:80%;left:0;position:absolute;height:100%}.live-area.remove{width:0}.chat-area{width:20%;position:absolute;right:0;height:100%;background-color:#fff}.chat-area.full{width:100%;z-index:100}.video-container{position:relative}#printWall{position:absolute;overflow:auto;padding:20px;border:1px solid #c2c2c2;height:90%;width:100%;text-align:left;bottom:100px}#really-cool-video{display:inline-block;width:60%}.input-group{position:absolute;bottom:0;height:10%}span.red{color:red}span.blue{color:blue}span.green{color:green}span.info{color:#31708f}.video-js .vjs-big-play-button{position:relative;margin:0 auto;top:50%}.vjs-progress-timepoint{position:absolute;top:0;bottom:0;width:6px;margin-left:-3px;border-radius:3px;background-color:#fff;cursor:pointer}.vjs-progress-tooltip{display:none;position:absolute;bottom:100%;max-width:150px;padding:.3em 1em;margin-bottom:15px;background-color:#000;color:#fff}.vjs-progress-tooltip:after{content:\\\" \\\";position:absolute;top:100%;left:50%;margin-left:-10px;width:0;height:0;font:0/0 a;border:10px solid transparent;border-top-color:#000;border-bottom-width:0}.vjs-progress-tooltip span{margin-left:1em}.cover{background-image:url(http://7xl9ad.com1.z0.glb.clouddn.com/background/2.jpg);background-size:cover;background-repeat:no-repeat;z-index:1}.cover,.cover .cover-mark{width:100%;height:100%;position:absolute}.cover .cover-mark{background-color:#000;opacity:.3;z-index:2}.cover .cover-text{z-index:3;position:relative;display:inline-block;text-align:center;color:#fff}.cover .cover-text.cover-rendered{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}#chatInput{height:100px}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tvar charenc = {\n\t  // UTF-8 encoding\n\t  utf8: {\n\t    // Convert a string to a byte array\n\t    stringToBytes: function(str) {\n\t      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n\t    },\n\t\n\t    // Convert a byte array to a string\n\t    bytesToString: function(bytes) {\n\t      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n\t    }\n\t  },\n\t\n\t  // Binary encoding\n\t  bin: {\n\t    // Convert a string to a byte array\n\t    stringToBytes: function(str) {\n\t      for (var bytes = [], i = 0; i < str.length; i++)\n\t        bytes.push(str.charCodeAt(i) & 0xFF);\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to a string\n\t    bytesToString: function(bytes) {\n\t      for (var str = [], i = 0; i < bytes.length; i++)\n\t        str.push(String.fromCharCode(bytes[i]));\n\t      return str.join('');\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = charenc;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = (function() {\n\t  var YouYuChatConfig;\n\t  return YouYuChatConfig = {\n\t    appid: \"hekj5ea51b0k4o993qw30inb2h2vbct0qkopr1e006xvbbny\",\n\t    appkey: 'uwk4yxmcb106xheksklefuu2maj0hx6i3mbtu0oc0nbmk25a',\n\t    cheat_code_id: '565c1e7f00b0023c05f80f99'\n\t  };\n\t})();\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function(){\r\n\t  var crypt = __webpack_require__(16),\r\n\t      utf8 = __webpack_require__(5).utf8,\r\n\t      isBuffer = __webpack_require__(18),\r\n\t      bin = __webpack_require__(5).bin,\r\n\t\r\n\t  // The core\r\n\t  md5 = function (message, options) {\r\n\t    // Convert to byte array\r\n\t    if (message.constructor == String)\r\n\t      if (options && options.encoding === 'binary')\r\n\t        message = bin.stringToBytes(message);\r\n\t      else\r\n\t        message = utf8.stringToBytes(message);\r\n\t    else if (isBuffer(message))\r\n\t      message = Array.prototype.slice.call(message, 0);\r\n\t    else if (!Array.isArray(message))\r\n\t      message = message.toString();\r\n\t    // else, assume byte array already\r\n\t\r\n\t    var m = crypt.bytesToWords(message),\r\n\t        l = message.length * 8,\r\n\t        a =  1732584193,\r\n\t        b = -271733879,\r\n\t        c = -1732584194,\r\n\t        d =  271733878;\r\n\t\r\n\t    // Swap endian\r\n\t    for (var i = 0; i < m.length; i++) {\r\n\t      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n\t             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n\t    }\r\n\t\r\n\t    // Padding\r\n\t    m[l >>> 5] |= 0x80 << (l % 32);\r\n\t    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\t\r\n\t    // Method shortcuts\r\n\t    var FF = md5._ff,\r\n\t        GG = md5._gg,\r\n\t        HH = md5._hh,\r\n\t        II = md5._ii;\r\n\t\r\n\t    for (var i = 0; i < m.length; i += 16) {\r\n\t\r\n\t      var aa = a,\r\n\t          bb = b,\r\n\t          cc = c,\r\n\t          dd = d;\r\n\t\r\n\t      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n\t      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n\t      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n\t      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n\t      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n\t      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n\t      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n\t      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n\t      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n\t      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n\t      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n\t      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n\t      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n\t      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n\t      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n\t      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\t\r\n\t      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n\t      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n\t      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n\t      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n\t      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n\t      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n\t      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n\t      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n\t      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n\t      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n\t      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n\t      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n\t      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n\t      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n\t      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n\t      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\t\r\n\t      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n\t      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n\t      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n\t      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n\t      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n\t      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n\t      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n\t      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n\t      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n\t      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n\t      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n\t      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n\t      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n\t      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n\t      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n\t      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\t\r\n\t      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n\t      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n\t      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n\t      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n\t      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n\t      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n\t      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n\t      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n\t      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n\t      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n\t      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n\t      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n\t      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n\t      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n\t      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n\t      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\t\r\n\t      a = (a + aa) >>> 0;\r\n\t      b = (b + bb) >>> 0;\r\n\t      c = (c + cc) >>> 0;\r\n\t      d = (d + dd) >>> 0;\r\n\t    }\r\n\t\r\n\t    return crypt.endian([a, b, c, d]);\r\n\t  };\r\n\t\r\n\t  // Auxiliary functions\r\n\t  md5._ff  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t  md5._gg  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t  md5._hh  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t  md5._ii  = function (a, b, c, d, x, s, t) {\r\n\t    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n\t    return ((n << s) | (n >>> (32 - s))) + b;\r\n\t  };\r\n\t\r\n\t  // Package private blocksize\r\n\t  md5._blocksize = 16;\r\n\t  md5._digestsize = 16;\r\n\t\r\n\t  module.exports = function (message, options) {\r\n\t    if(typeof message == 'undefined')\r\n\t      return;\r\n\t\r\n\t    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n\t    return options && options.asBytes ? digestbytes :\r\n\t        options && options.asString ? bin.bytesToString(digestbytes) :\r\n\t        crypt.bytesToHex(digestbytes);\r\n\t  };\r\n\t\r\n\t})();\r\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(20);\n\t\n\t__webpack_require__(11);\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function() {\n\t  var YouYuChatConsole;\n\t  return YouYuChatConsole = {\n\t    save: function(data, filename) {\n\t      var a, blob, e;\n\t      if (!data) {\n\t        console.error(\"no data\");\n\t        return;\n\t      }\n\t      if (!filename) {\n\t        filename = 'youyu_chat_console.json';\n\t      }\n\t      if (typeof data === \"object\") {\n\t        data = JSON.stringify(data, void 0, 4);\n\t      }\n\t      blob = new Blob([data], {\n\t        type: 'text'\n\t      });\n\t      e = document.createEvent('MouseEvents');\n\t      a = document.createElement('a');\n\t      a.download = filename;\n\t      a.href = window.URL.createObjectURL(blob);\n\t      a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\n\t      e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\t      return a.dispatchEvent(e);\n\t    }\n\t  };\n\t};\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar YouYuChatCheatCode, YouYuChatUtil, cheat_code, util;\n\t\n\tYouYuChatCheatCode = __webpack_require__(3);\n\t\n\tYouYuChatUtil = __webpack_require__(2);\n\t\n\tcheat_code = new YouYuChatCheatCode;\n\t\n\tutil = new YouYuChatUtil;\n\t\n\tmodule.exports = (function() {\n\t  window.talklocal = function(token) {\n\t    return cheat_code.setCheatCode(\"changeNoTalk\", false, token);\n\t  };\n\t  window.talkon = function(token) {\n\t    return cheat_code.setCheatCode(\"shutup\", false, token);\n\t  };\n\t  window.talkoff = function(token) {\n\t    return cheat_code.setCheatCode(\"shutup\", true, token);\n\t  };\n\t  window.tokenchange = function(oldtoken, newtoken) {\n\t    return cheat_code.setCheatCode(\"changeToken\", newtoken, oldtoken);\n\t  };\n\t  window.authcode = function(token, auth_code) {\n\t    return cheat_code.setCheatCode(\"changeAuthCode\", auth_code, token);\n\t  };\n\t  window.listget = function(token, attr) {\n\t    attr || (attr = false);\n\t    return cheat_code.setCheatCode(\"whiteListGet\", {\n\t      save_as_file: attr\n\t    }, token);\n\t  };\n\t  window.listset = function(token, white_list) {\n\t    return cheat_code.setCheatCode(\"whiteListSet\", white_list, token);\n\t  };\n\t  window.listpush = function(token, white_list) {\n\t    return cheat_code.setCheatCode(\"whiteListAdd\", white_list, token);\n\t  };\n\t  window.listpop = function(token, value) {\n\t    return cheat_code.setCheatCode(\"whiteListRemove\", value, token);\n\t  };\n\t  window.liston = function(token) {\n\t    return cheat_code.setCheatCode(\"whiteListOpen\", true, token);\n\t  };\n\t  window.listoff = function(token) {\n\t    return cheat_code.setCheatCode(\"whiteListOpen\", false, token);\n\t  };\n\t  window.castset = function(token, msg) {\n\t    return cheat_code.setCheatCode(\"broadCastSet\", msg, token);\n\t  };\n\t  window.castpush = function(token, msg) {\n\t    return cheat_code.setCheatCode(\"broadCastPush\", \"\", token);\n\t  };\n\t  window.onlineuser = function(token) {\n\t    return cheat_code.setCheatCode(\"getOnlineUser\", \"\", token);\n\t  };\n\t  window.onlineusercount = function(token) {\n\t    return cheat_code.setCheatCode(\"getOnlineUserCount\", \"\", token);\n\t  };\n\t  window.noticeset = function(token, attr) {\n\t    return cheat_code.setCheatCode(\"noticeSet\", attr, token);\n\t  };\n\t  window.setstream = function(token, liveStram) {\n\t    return cheat_code.setCheatCode(\"setLiveStream\", liveStram, token);\n\t  };\n\t  return window.screentoggle = function() {\n\t    var $chatarea, $livearea;\n\t    $livearea = $(\".live-area\");\n\t    $chatarea = $(\".chat-area\");\n\t    $livearea.toggleClass(\"remove\");\n\t    return $chatarea.toggleClass(\"full\");\n\t  };\n\t})();\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar YouYuChatBase, YouYuChatCheatCode, YouYuChatPlayer, YouYuChatUtil, base, cheat_code, md5, player, userAccess, util, visitorAccess;\n\t\n\tYouYuChatBase = __webpack_require__(1);\n\t\n\tYouYuChatUtil = __webpack_require__(2);\n\t\n\tYouYuChatCheatCode = __webpack_require__(3);\n\t\n\tYouYuChatPlayer = __webpack_require__(12);\n\t\n\t__webpack_require__(10);\n\t\n\tvisitorAccess = __webpack_require__(15);\n\t\n\tuserAccess = __webpack_require__(14);\n\t\n\tmd5 = __webpack_require__(7);\n\t\n\tbase = new YouYuChatBase;\n\t\n\tutil = new YouYuChatUtil;\n\t\n\tcheat_code = new YouYuChatCheatCode;\n\t\n\tplayer = new YouYuChatPlayer;\n\t\n\tmodule.exports = (function() {\n\t  var registerEvent;\n\t  registerEvent = function() {\n\t    util.elements().chatArea.on('keydown', function(e) {\n\t      if (e.keyCode === 13) {\n\t        return $(document).trigger(\"pressEnter\");\n\t      }\n\t    });\n\t    util.elements().modalDialog.on('keydown', function(e) {\n\t      if (e.keyCode === 13) {\n\t        return $(document).trigger(\"visitor:confirmName:click\");\n\t      }\n\t    });\n\t    util.elements().sendMsgBtn.on('click', function(e) {\n\t      return $(document).trigger(\"sendMsgBtn:click\");\n\t    });\n\t    util.elements().inputSend.on('click', function(e) {\n\t      return $(document).trigger(\"inputSend:click\");\n\t    });\n\t    return util.elements().confirmName.on('click', function(e) {\n\t      return $(document).trigger(\"confirmName:click\");\n\t    });\n\t  };\n\t  $(document).on(\"started\", function() {\n\t    base.getConversation();\n\t    console.log(\"started\");\n\t    if (util.isVisitor()) {\n\t      registerEvent();\n\t      $(document).trigger(\"visitor:started\");\n\t    } else {\n\t      $(document).trigger(\"user:started\");\n\t    }\n\t    return cheat_code.getCheatCode().then(function() {\n\t      var $coverText, auth_code, height, width;\n\t      player.init();\n\t      $coverText = util.elements().coverText;\n\t      $coverText.html(base.baseState.get(\"notice\"));\n\t      height = $coverText.height();\n\t      width = $coverText.width();\n\t      $coverText.addClass(\"cover-rendered\");\n\t      $coverText.css({\n\t        \"height\": height,\n\t        \"width\": width\n\t      });\n\t      auth_code = window.location.hash;\n\t      if (md5(auth_code.slice(\"1\")) !== base.baseState.get(\"auth_code\")) {\n\t        window.location.href = \"/forbidden\";\n\t      }\n\t    });\n\t  });\n\t  $(document).on(\"conversation_id:Got\", function() {\n\t    console.log(\"conversation_id got\");\n\t    base.connectRoom();\n\t    return base.currentClient.realtime.on(\"error\", function() {\n\t      return console.log(\"error\");\n\t    });\n\t  });\n\t  $(document).on(\"room:connected\", function() {\n\t    console.log(\"room connected\");\n\t    if (util.isVisitor()) {\n\t      return $(document).trigger(\"visitor:room:connected\");\n\t    } else {\n\t      return $(document).trigger(\"user:room:connected\");\n\t    }\n\t  });\n\t  $(document).on(\"room:created\", function() {\n\t    return console.log(\"room created\");\n\t  });\n\t  $(document).on(\"realtime:closed\", function() {\n\t    console.log(\"realtime closed\");\n\t    if (!util.isVisitor()) {\n\t      return $(document).trigger(\"visitor:realtime:closed\");\n\t    } else {\n\t      return $(document).trigger(\"user:realtime:closed\");\n\t    }\n\t  });\n\t  $(document).on(\"log:got\", function() {\n\t    util.showChatLog();\n\t    util.fetchOnlineUser().then(function(online_members) {\n\t      online_members = _.without(online_members, (base.baseState.get('room_name')) + \":游客\");\n\t      return util.showSystemMsg({\n\t        msg: \"当前登录用户有\" + online_members.length + \"人\"\n\t      });\n\t    });\n\t    return console.log(\"log got\");\n\t  });\n\t  $(document).on(\"pressEnter\", function() {\n\t    console.log(\"press enter\");\n\t    if (util.isVisitor()) {\n\t      return $(document).trigger(\"visitor:pressEnter\");\n\t    } else {\n\t      return $(document).trigger(\"user:pressEnter\");\n\t    }\n\t  });\n\t  $(document).on(\"sendMsgBtn:click\", function() {\n\t    console.log(\"click sendMsgBtn\");\n\t    return $(document).trigger(\"pressEnter\");\n\t  });\n\t  $(document).on(\"inputSend:click\", function() {\n\t    console.log(\"click inputSend\");\n\t    if (util.isVisitor()) {\n\t      return $(document).trigger(\"visitor:inputSend:click\");\n\t    }\n\t  });\n\t  $(document).on(\"confirmName:click\", function() {\n\t    console.log(\"click conrfirmName\");\n\t    if (util.isVisitor()) {\n\t      return $(document).trigger(\"visitor:confirmName:click\");\n\t    }\n\t  });\n\t  $(document).on(\"fetchOnlineUser:done\", function() {\n\t    var members, offline_members, online_members, room;\n\t    console.log(\"fetchOnlineUser done\");\n\t    online_members = base.baseState.get(\"online_members\");\n\t    members = base.baseState.get(\"members\");\n\t    room = base.baseState.get(\"room\");\n\t    offline_members = _.filter(members, function(member) {\n\t      if (online_members.indexOf(member) === -1) {\n\t        return member;\n\t      }\n\t    });\n\t    online_members = _.without(online_members, (base.baseState.get('room_name')) + \":游客\");\n\t    console.log(offline_members);\n\t    return room.remove(offline_members, function() {\n\t      return console.log(\"remove done\");\n\t    });\n\t  });\n\t  visitorAccess();\n\t  return userAccess();\n\t})();\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar YouYuChatBase, base;\n\t\n\tYouYuChatBase = __webpack_require__(1);\n\t\n\tbase = new YouYuChatBase;\n\t\n\tmodule.exports = function() {\n\t  var YouYuChatPlayer;\n\t  return YouYuChatPlayer = {\n\t    state: {\n\t      inited: false\n\t    },\n\t    init: function() {\n\t      var container, player, playerContainer;\n\t      if (!this.state.inited) {\n\t        playerContainer = $(\"<video />\", {\n\t          \"class\": \"video-js vjs-default-skin\"\n\t        }).attr({\n\t          controls: true\n\t        }).css({\n\t          width: \"100%\",\n\t          height: \"100%\"\n\t        });\n\t        playerContainer.append($(\"<source />\", {\n\t          src: base.baseState.get('live_stream'),\n\t          type: \"rtmp/mp4\"\n\t        }));\n\t        container = $(\"#player\");\n\t        container.append(playerContainer);\n\t        player = videojs(playerContainer.get(0), {\n\t          width: 500,\n\t          height: 500\n\t        }, function() {\n\t          var $live_area, width;\n\t          this.play();\n\t          $live_area = $(\".live-area\");\n\t          width = $live_area.width();\n\t          return this.on('loadeddata', function() {\n\t            $(\".cover\").remove();\n\t            $live_area.css({\n\t              width: \"79%\"\n\t            });\n\t            return setTimeout((function(_this) {\n\t              return function() {\n\t                return $live_area.css({\n\t                  width: \"80%\"\n\t                });\n\t              };\n\t            })(this), 100);\n\t          });\n\t        });\n\t        this.state.inited = true;\n\t        return player;\n\t      }\n\t    }\n\t  };\n\t};\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Config;\n\t\n\tConfig = __webpack_require__(6);\n\t\n\tmodule.exports = function() {\n\t  var YouYuChatState;\n\t  return YouYuChatState = {\n\t    appid: Config.appid,\n\t    appkey: Config.appkey,\n\t    msgTime: void 0,\n\t    logFlag: false,\n\t    log: [],\n\t    room_name: \"YouYuLive\",\n\t    room: void 0,\n\t    client_id: \"游客\",\n\t    realtime: void 0,\n\t    conv_id: void 0,\n\t    members: [],\n\t    notalk: false,\n\t    white_list: {},\n\t    white_list_open: true,\n\t    online_members: [],\n\t    live_stream: \"rtmp://pili-live-rtmp.live.youyu.im/cimu/test\"\n\t  };\n\t};\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar YouYuChatBase, YouYuChatUtil, base, util;\n\t\n\tYouYuChatUtil = __webpack_require__(2);\n\t\n\tYouYuChatBase = __webpack_require__(1);\n\t\n\tutil = new YouYuChatUtil;\n\t\n\tbase = new YouYuChatBase;\n\t\n\tmodule.exports = function() {\n\t  $(document).on(\"user:started\", function() {\n\t    util.elements().sendMsgBtn.attr(\"disabled\", false);\n\t    return console.log(\"user:started\");\n\t  });\n\t  $(document).on(\"user:room:connected\", function() {\n\t    var realtime, room;\n\t    room = base.baseState.get('room');\n\t    realtime = base.baseState.get('realtime');\n\t    room.join(function() {\n\t      util.showInfo(\"你的昵称为<span class='green'>\" + (util.parseClientIdToName(base.baseState.get('client_id'))) + \"</span>,已经可以发言了\");\n\t      return util.fetchOnlineUser().then(function(online_members) {\n\t        online_members = _.without(online_members, \"qiniuLive:游客\");\n\t        return util.showSystemMsg({\n\t          msg: \"当前登录用户有\" + online_members.length + \"人\"\n\t        });\n\t      });\n\t    });\n\t    room.receive(function(data) {\n\t      util.refreshPage(data);\n\t      if (util.parseMsgLevel(data) === \"member\") {\n\t        return util.showMsg(data);\n\t      } else if (util.parseMsgLevel(data) === \"broad_cast\") {\n\t        return util.showBroadCast(data);\n\t      } else {\n\t        return util.getCheatCode().then(function() {\n\t          return util.showSystemMsg(data);\n\t        });\n\t      }\n\t    });\n\t    realtime.on('reuse', function() {\n\t      return util.showInfo(\"正在重新连接有渔直播聊天系统\");\n\t    });\n\t    realtime.on('error', function() {\n\t      return util.showInfo('好像有什么不对劲 请打开console 查看相关日志 ');\n\t    });\n\t    realtime.on('kicked', function(res) {\n\t      console.log(res);\n\t      util.showSystemMsg({\n\t        msg: \"你已经被踢出该房间\"\n\t      });\n\t      return util.refreshPage({\n\t        msg: {\n\t          attr: {\n\t            reload: true\n\t          }\n\t        }\n\t      });\n\t    });\n\t    realtime.on('membersleft', function(res) {\n\t      return _.each(res.m, function(m) {\n\t        var clientId;\n\t        clientId = m.split(\":\")[1];\n\t        return console.log((util.parseClientIdToName(clientId)) + \"离开了房间\");\n\t      });\n\t    });\n\t    return realtime.on('join', function(res) {\n\t      return _.each(res.m, function(m) {\n\t        var name;\n\t        name = m.split(\":\")[1];\n\t        if (!(name === base.baseState.get('client_id') || name === \"游客\")) {\n\t          name = util.parseClientIdToName(name);\n\t          util.showInfo(name + '加入有渔直播间');\n\t          return util.fetchOnlineUser().then(function(online_members) {\n\t            online_members = _.without(online_members, \"qiniuLive:游客\");\n\t            return util.showSystemMsg({\n\t              msg: \"当前登录用户有\" + online_members.length + \"人\"\n\t            });\n\t          });\n\t        }\n\t      });\n\t    });\n\t  });\n\t  $(document).on(\"user:pressEnter\", function() {\n\t    var msg, room;\n\t    msg = util.elements().inputSend.val();\n\t    room = base.baseState.get('room');\n\t    if (base.baseState.get('notalk')) {\n\t      alert(\"目前是禁止发言状态\");\n\t    } else {\n\t      if (!util.isEmptyString(msg)) {\n\t        return room.send({\n\t          text: msg,\n\t          attr: {\n\t            msgLevel: \"member\"\n\t          }\n\t        }, {\n\t          type: 'text'\n\t        }, function(data) {\n\t          util.clearInput();\n\t          return util.showMyMsg(data, msg);\n\t        });\n\t      } else {\n\t        alert(\"请输入点文字\");\n\t      }\n\t    }\n\t  });\n\t  $(document).on(\"user:inputSend:click\", function() {});\n\t  return $(document).on(\"visitor:realtime:closed\", function() {\n\t    console.log(\"vistor realtime closed\");\n\t    return $(document).trigger(\"started\");\n\t  });\n\t};\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar YouYuChatBase, YouYuChatCheatCode, YouYuChatUtil, base, cheat_code, util;\n\t\n\tYouYuChatUtil = __webpack_require__(2);\n\t\n\tYouYuChatBase = __webpack_require__(1);\n\t\n\tYouYuChatCheatCode = __webpack_require__(3);\n\t\n\tutil = new YouYuChatUtil;\n\t\n\tbase = new YouYuChatBase;\n\t\n\tcheat_code = new YouYuChatCheatCode;\n\t\n\tmodule.exports = function() {\n\t  $(document).on(\"visitor:started\", function() {\n\t    return util.showInfo(\"正在连接有渔直播室...\");\n\t  });\n\t  $(document).on(\"visitor:room:connected\", function() {\n\t    var realtime, room;\n\t    util.showInfo(\"欢迎来到有渔直播课堂，您可通过下方聊天框与直播老师互动。\");\n\t    util.showBroadCast({\n\t      msg: {\n\t        text: base.baseState.get('broad_cast')\n\t      }\n\t    });\n\t    room = base.baseState.get('room');\n\t    realtime = base.baseState.get('realtime');\n\t    room.join(function() {\n\t      return base.getLog(room);\n\t    });\n\t    room.receive(function(data) {\n\t      util.refreshPage(data);\n\t      if (util.parseMsgLevel(data) === \"member\") {\n\t        return util.showMsg(data);\n\t      } else if (util.parseMsgLevel(data) === \"broad_cast\") {\n\t        return util.showBroadCast(data);\n\t      } else {\n\t        return util.showSystemMsg(data);\n\t      }\n\t    });\n\t    realtime.on('reuse', function() {\n\t      return util.showInfo(\"正在重新连接有渔直播聊天系统\");\n\t    });\n\t    realtime.on('error', function() {\n\t      return util.showInfo('好像有什么不对劲 请打开console 查看相关日志 ');\n\t    });\n\t    realtime.on('join', function(res) {\n\t      return _.each(res.m, function(m) {\n\t        var name;\n\t        name = m.split(\":\")[1];\n\t        if (name !== base.baseState.get('client_id')) {\n\t          name = util.parseClientIdToName(name);\n\t          util.showInfo(name + '加入有渔直播间');\n\t          return util.fetchOnlineUser().then(function(online_members) {\n\t            online_members = _.without(online_members, \"qiniuLive:游客\");\n\t            return util.showSystemMsg({\n\t              msg: \"当前登录用户有\" + online_members.length + \"人\"\n\t            });\n\t          });\n\t        }\n\t      });\n\t    });\n\t    realtime.on('kicked', function(res) {\n\t      console.log(res);\n\t      return util.showSystemMsg({\n\t        msg: \"你已经被踢出该房间\"\n\t      });\n\t    });\n\t    return realtime.on('membersleft', function(res) {\n\t      return _.each(res.m, function(m) {\n\t        var clientId;\n\t        clientId = m.split(\":\")[1];\n\t        return console.log((util.parseClientIdToName(clientId)) + \"离开了房间\");\n\t      });\n\t    });\n\t  });\n\t  $(document).on(\"visitor:pressEnter\", function() {\n\t    return alert(\"你目前还未输入姓名，不可以发言\");\n\t  });\n\t  $(document).on(\"visitor:inputSend:click\", function() {\n\t    return util.elements().changeName.modal(\"show\");\n\t  });\n\t  return $(document).on(\"visitor:confirmName:click\", function() {\n\t    var client_id;\n\t    client_id = util.elements().inputNickName.val();\n\t    return cheat_code.getCheatCode().then(function() {\n\t      if (util.inWhiteList(client_id) || !base.baseState.get(\"white_list_open\")) {\n\t        base.baseState.set('client_id', client_id);\n\t        if (!util.isEmptyString(client_id)) {\n\t          base.closeRealTime(base.baseState.get('realtime'));\n\t          return util.elements().changeName.modal(\"hide\");\n\t        } else {\n\t          return alert(\"昵称不能为空\");\n\t        }\n\t      } else {\n\t        return alert(\"你输入的昵称不在白名单中\");\n\t      }\n\t    });\n\t  });\n\t};\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t(function() {\n\t  var base64map\n\t      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\t\n\t  crypt = {\n\t    // Bit-wise rotation left\n\t    rotl: function(n, b) {\n\t      return (n << b) | (n >>> (32 - b));\n\t    },\n\t\n\t    // Bit-wise rotation right\n\t    rotr: function(n, b) {\n\t      return (n << (32 - b)) | (n >>> b);\n\t    },\n\t\n\t    // Swap big-endian to little-endian and vice versa\n\t    endian: function(n) {\n\t      // If number given, swap endian\n\t      if (n.constructor == Number) {\n\t        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n\t      }\n\t\n\t      // Else, assume array and swap all items\n\t      for (var i = 0; i < n.length; i++)\n\t        n[i] = crypt.endian(n[i]);\n\t      return n;\n\t    },\n\t\n\t    // Generate an array of any length of random bytes\n\t    randomBytes: function(n) {\n\t      for (var bytes = []; n > 0; n--)\n\t        bytes.push(Math.floor(Math.random() * 256));\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to big-endian 32-bit words\n\t    bytesToWords: function(bytes) {\n\t      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n\t        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n\t      return words;\n\t    },\n\t\n\t    // Convert big-endian 32-bit words to a byte array\n\t    wordsToBytes: function(words) {\n\t      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n\t        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to a hex string\n\t    bytesToHex: function(bytes) {\n\t      for (var hex = [], i = 0; i < bytes.length; i++) {\n\t        hex.push((bytes[i] >>> 4).toString(16));\n\t        hex.push((bytes[i] & 0xF).toString(16));\n\t      }\n\t      return hex.join('');\n\t    },\n\t\n\t    // Convert a hex string to a byte array\n\t    hexToBytes: function(hex) {\n\t      for (var bytes = [], c = 0; c < hex.length; c += 2)\n\t        bytes.push(parseInt(hex.substr(c, 2), 16));\n\t      return bytes;\n\t    },\n\t\n\t    // Convert a byte array to a base-64 string\n\t    bytesToBase64: function(bytes) {\n\t      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n\t        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n\t        for (var j = 0; j < 4; j++)\n\t          if (i * 8 + j * 6 <= bytes.length * 8)\n\t            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n\t          else\n\t            base64.push('=');\n\t      }\n\t      return base64.join('');\n\t    },\n\t\n\t    // Convert a base-64 string to a byte array\n\t    base64ToBytes: function(base64) {\n\t      // Remove non-base-64 characters\n\t      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\t\n\t      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n\t          imod4 = ++i % 4) {\n\t        if (imod4 == 0) continue;\n\t        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n\t            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n\t            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n\t      }\n\t      return bytes;\n\t    }\n\t  };\n\t\n\t  module.exports = crypt;\n\t})();\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Determine if an object is Buffer\n\t *\n\t * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n\t * License:  MIT\n\t *\n\t * `npm install is-buffer`\n\t */\n\t\n\tmodule.exports = function (obj) {\n\t  return !!(\n\t    obj != null &&\n\t    obj.constructor &&\n\t    typeof obj.constructor.isBuffer === 'function' &&\n\t    obj.constructor.isBuffer(obj)\n\t  )\n\t}\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(4);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(19)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(true) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(4, function() {\n\t\t\t\tvar newContent = __webpack_require__(4);\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** YouYuChat.js\n **/","YouYuChatState = require './YouYuChatState'\nyouyu_chat_state = new YouYuChatState\n\nmodule.exports = ->\n  YouYuChatBase = {\n    baseState: do ->\n      return {\n        set: (key,value)->\n          youyu_chat_state[key]=value\n        get: (key)->\n          youyu_chat_state[key]\n      }\n\n    createRealtime : (client_id)->\n      @baseState.set(\"client_id\",client_id) unless _.isUndefined(client_id)\n      result = AV.realtime\n        appId: @baseState.get('appid')\n        clientId: @baseState.get('room_name') + ':' + @baseState.get(\"client_id\")\n        secure: false\n      @baseState.set(\"realtime\",result)\n      return result\n\n    getConversation : ->\n      promise = new AV.Promise\n      AV.initialize(@baseState.get('appid'),@baseState.get('appkey'))\n      conv = AV.Object.extend('_conversation')\n      q = new AV.Query(conv)\n      q.equalTo('attr.room_id',@baseState.get('room_name'))\n      q.find({\n        success: (response) =>\n          conv_id = response[0]?.id||\"null\"\n          @baseState.set(\"members\",response[0].attributes.m)\n          @baseState.set(\"conv_id\",conv_id)\n          $(document).trigger(\"conversation_id:Got\")\n          promise.resolve(conv_id)\n        error: (err)=>\n          promise.reject(err)\n      })\n      return promise\n\n    connectRoom : ->\n      promise = new AV.Promise\n      @createRealtime()\n      realtime = @baseState.get('realtime')\n      realtime.on 'open',=>\n        realtime.room(@baseState.get('conv_id'),(room)=>\n          @baseState.set(\"room\",room)\n          $(document).trigger(\"room:connected\")\n          return promise.resolve(room)\n        )\n\n    createRoom : (room_name,client_id)->\n      promise = new AV.Promise\n      @createRealtime(client_id)\n      realtime = @baseState.get(\"realtime\")\n      @baseState.set(\"room_name\",room_name)\n      @baseState.set(\"client_id\",client_id)\n      realtime.on 'open',=>\n        realtime.room({\n          name: @baseState.get('room_name')\n          attr: {room_id: @baseState.get('room_name')}\n          members: [\n            @baseState.get('room_name') + \":\" + @baseState.get(\"client_id\")\n          ]\n        },\n        (room) =>\n          @baseState.set('room',room)\n          $(document).trigger(\"room:created\")\n          return promise.resolve(room)\n        )\n\n    closeRealTime : (realtime) ->\n      promise = new AV.Promise\n      realtime.close()\n      realtime.on 'close',->\n        promise.resolve()\n        $(document).trigger(\"realtime:closed\")\n      return promise\n\n    getLog : (room) ->\n      promise  = new AV.Promise\n      @baseState.set('room',room)\n      if (@baseState.get('logFlag'))\n          return\n      else\n        # 标记正在拉取\n        @baseState.set('logFlag',true)\n      room.log({\n        t: @baseState.get('msgTime')\n      }\n      (data)=>\n        @baseState.set('logFlag',false)\n        # 存储下最早一条的消息时间戳\n        l = data.length\n        if(l)\n          @baseState.set('msgTime',data[0].timestamp)\n          data.reverse()\n        @baseState.set('log',data)\n        $(document).trigger(\"log:got\")\n        promise.resolve(data)\n      )\n      return promise\n\n    clearRoomMembers : (room) ->\n      room.list (data) ->\n        room.remove(data,->\n          console.log \"clearn room members\"\n        )\n  }\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatBase.coffee\n **/","YouYuChatBase = require './YouYuChatBase'\nbase = new YouYuChatBase\nmodule.exports = ->\n  YouYuChatUtil = {\n    elements: ->\n      body: $(\"body\")\n      printWall: $(\"#printWall\")\n      sendMsgBtn: $(\"#btnSend\")\n      inputSend: $(\"#chatInput\")\n      inputNickName: $(\"#inputNickName\")\n      confirmName: $(\"#confirmName\")\n      changeName: $(\"#changeName\")\n      chatArea: $(\".chat-area\")\n      modalDialog: $(\".modal-dialog\")\n      coverText: $(\".cover-text\")\n\n    templates: ->\n      showlog: $(\"#showlog\")\n      showmsg: $(\"#showmsg\")\n      showsystemmsg: $(\"#showsystemmsg\")\n      showmymsg: $(\"#showmymsg\")\n      showinfo: $(\"#showinfo\")\n\n\n    template: ($template,obj)->\n      template = $template.html()\n      _.template(template)(obj)\n\n    isVisitor: ->\n      blacklist = [\"游客\",\"\"  ]\n      if ( _.indexOf(blacklist,base.baseState.get('client_id')) != -1 )\n        return true\n      return false\n\n\n    timeoutPromise: (promise,ms) ->\n      delayPromise = ->\n        return new AV.Promise(\n          (resolve) ->\n            setTimeout(resolve,ms)\n        )\n      timeout_promise = delayPromise(ms).then(\n        ->\n          Promise.reject(new Error(\"请求超时\"))\n      )\n      return AV.Promise.race([promise,timeout_promise])\n\n    formatTime: (time)->\n      date = new Date(time)\n      #return $.format.date(date,\"yyyy-MM-dd hh:mm:ss\")\n      return $.format.date(date,\"hh:mm:ss\")\n\n    renderToPrintWall: (template,isBefore) ->\n      printWall = @elements().printWall\n      printWall.scrollTop(printWall[0].scrollHeight)\n      if (isBefore)\n        $(template).insertBefore(printWall.children()[0])\n      else\n        printWall.append(template)\n      @scrollToBottomPrintWall()\n\n    showInfo:(msg) ->\n      template = @template(@templates().showinfo,{msg:msg})\n      @renderToPrintWall(template)\n\n    showLog: (msg, isBefore) ->\n      template = @template(@templates().showlog,{msg:@encodeHTML(msg)})\n      @renderToPrintWall(template,isBefore)\n\n    encodeHTML:(source) ->\n      return String(source)\n        .replace(/&/g,'&amp;')\n        .replace(/</g,'&lt;')\n        .replace(/>/g,'&gt;')\n\n    isEmptyString: (string)->\n      if String(string).replace(/^\\s+/, '').replace(/\\s+$/, '') != \"\"\n        return false\n      return true\n\n    clearInput: ->\n      @elements().inputSend.val('')\n\n    scrollToBottomPrintWall: ->\n      printWall = @elements().printWall\n      printWall.scrollTop(printWall[0].scrollHeight)\n\n    showMsg: (data, isBefore) ->\n      text = ''\n      from = data.fromPeerId\n      from_name = from.split(\":\")[1]\n      from_name = @parseClientIdToName(from_name)\n      if(data.msg.type)\n        text = data.msg.text\n      else\n        text = data.msg\n      unless @isEmptyString(text)\n        template = @template(@templates().showmsg,{msg_time:@formatTime(data.timestamp),from_name: @encodeHTML(from_name),text: @encodeHTML(text)})\n        @renderToPrintWall(template,isBefore)\n\n    showMyMsg: (data,text,isBefore) ->\n      template = @template(@templates().showmymsg,{msg_time:@formatTime(data.t),from_name: @parseClientIdToName(base.baseState.get('client_id')),text: @encodeHTML(text)})\n      @renderToPrintWall(template,isBefore)\n\n    showBroadCast: (notice,isBefore) ->\n      @renderToPrintWall(notice.msg.text,isBefore)\n\n    showSystemMsg: (data,isBefore) ->\n      if(data.msg.type)\n        text = data.msg.text\n      else\n        text = data.msg\n      template = @template(@templates().showsystemmsg,{text:text})\n      @renderToPrintWall(template,isBefore)\n\n    showChatLog: ->\n      log = base.baseState.get('log')\n      printWall = @elements().printWall\n      _.each(log,(log) =>\n        if @parseMsgLevel(log) == \"member\"\n          @showMsg(log, true)\n        #else if @parseMsgLevel(log) == \"broad_cast\" #broad_cast 设置为暂态消息不会有日志\n        #  @showBroadCast(log, true)\n        else\n          @showSystemMsg(log, true)\n      )\n\n    parseClientIdToName: (client_id)->\n      white_list_open = base.baseState.get('white_list_open')\n      white_list = base.baseState.get('white_list')\n      if white_list_open\n        name = white_list[client_id]\n        return client_id if _.isUndefined name\n        return name\n      else\n        return client_id\n\n    refreshPage: (data) ->\n      if data.msg.attr.reload\n        window.location.reload()\n      else if data.msg.attr.userReload == base.baseState.get('client_id')\n        window.location.reload()\n\n    parseMsgLevel: (data) ->\n      return data.msg.attr.msgLevel\n\n    getKeyByValue: (obj,v) ->\n      keys = _.map(obj,\n        (value,key)->\n          return key if value == v\n      )\n      return _.compact(keys)[0]\n\n    inWhiteList: (code) ->\n      return _.has(base.baseState.get(\"white_list\"),code)\n\n    getSliceCount: ->\n      slice_count = []\n      init_count = 0\n      return sliceCount = (length)->\n        if init_count >= length\n          return slice_count\n        else\n          init_count = init_count+20\n          slice_count.push init_count\n          sliceCount(length)\n\n    getSliceMember: (members,slice_count)->\n      slice_members = []\n      init_count = 0\n      _.each(slice_count,(count)->\n        slice_members.push members.slice(init_count,count)\n        init_count = count\n      )\n      return slice_members\n\n    fetchOnlineUser: ->\n      promise = new AV.Promise\n      conv = AV.Object.extend('_conversation')\n      q = new AV.Query(conv)\n      q.equalTo('attr.room_id',base.baseState.get('room_name'))\n      q.find({\n        success: (response) =>\n          conv_id = response[0]?.id||\"null\"\n          base.baseState.set(\"members\",response[0].attributes.m)\n          realtime = base.baseState.get('realtime')\n          members = base.baseState.get('members')\n          m_count = members.length\n          online_members = []\n          sliceCount = @getSliceCount()\n          slice_count = sliceCount(m_count)\n          should_ping_count = slice_count.length\n          current_ping_count = 0\n          slice_members = @getSliceMember(members,slice_count)\n          _.each(slice_members,(members)->\n            realtime.ping(members,(data)->\n              current_ping_count += 1\n              online_members.push data\n              if current_ping_count == should_ping_count\n                online_members = _.flatten online_members\n                base.baseState.set(\"online_members\",online_members)\n                promise.resolve(base.baseState.get(\"online_members\"))\n                $(document).trigger(\"fetchOnlineUser:done\")\n            )\n          )\n        error: (err)=>\n      })\n      return promise\n  }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatUtil.coffee\n **/","YouYuChatBase = require './YouYuChatBase'\nYouYuChatUtil = require './YouYuChatUtil'\nConfig = require './YouYuChatConfig'\nmd5 = require 'md5'\nutil = new YouYuChatUtil\nbase = new YouYuChatBase\nYouYuChatConsole = require './YouYuChatConsole'\nyouyu_chat_console = new YouYuChatConsole\n\nmodule.exports = ->\n  YouYuChatCheatCode = {\n    getCheatCode: ()->\n      cheatCode = AV.Object.extend(\"CheatCode\")\n      q = new AV.Query(cheatCode)\n      q.equalTo(\"objectId\",Config.cheat_code_id)\n      q.find({\n        success: (res) =>\n          base.baseState.set('notalk',res[0].attributes.notalk)\n          base.baseState.set('auth_code',res[0].attributes.auth_code)\n          base.baseState.set('cheat_code_token',res[0].attributes.token)\n          base.baseState.set('white_list',res[0].attributes.white_list)\n          base.baseState.set('white_list_open',res[0].attributes.white_list_open)\n          base.baseState.set('broad_cast',res[0].attributes.broad_cast)\n          base.baseState.set('notice',res[0].attributes.notice)\n          base.baseState.set('live_stream',res[0].attributes.live_stream)\n      })\n\n\n    setCheatCode: (commnad,attr,permit)->\n      permit ||= \"\"\n      if md5(permit) == base.baseState.get(\"cheat_code_token\")\n        code = AV.Object.createWithoutData('CheatCode',Config.cheat_code_id)\n        switch commnad\n          when \"shutup\"\n            base.baseState.set('notalk',false)\n            code.set('notalk',attr)\n            if attr\n              text = \"管理员开启了全员禁言\"\n            else\n              text = \"管理员关闭了全员禁言\"\n            code.save({\n              success: ->\n                base.baseState.get('room').send({\n                  text: text\n                  attr: {\n                    msgLevel: \"system\"\n                  }\n                },\n                {\n                  type: 'text'\n                },\n                (data) ->\n                  util.clearInput()\n                  data.msg = text\n                  util.showSystemMsg(data)\n                )\n            })\n          when \"changeAuthCode\"\n            code.set('auth_code',md5(attr))\n            text = \"授权码被改变页面将会被重新载入\"\n            code.save({\n              success: ->\n                base.baseState.get('room').send({\n                  text: text\n                  attr: {\n                    msgLevel: \"system\"\n                    reload: true\n                  }\n                },\n                {\n                  type: 'text'\n                },\n                (data) ->\n                  util.refreshPage({msg:{attr:{reload:true}}})\n                  util.clearInput()\n                  data.msg = text\n                  util.showSystemMsg(data)\n                )\n            })\n          when \"changeToken\"\n            code.set('token',md5(attr))\n            text = \"Token被改变页面即将重新载入\"\n            code.save({\n              success: ->\n                base.baseState.get('room').send({\n                  text: text\n                  attr: {\n                    msgLevel: \"system\"\n                    reload: true\n                  }\n                },\n                {\n                  type: 'text'\n                },\n                (data) ->\n                  util.refreshPage({msg:{attr:{reload:true}}})\n                  util.clearInput()\n                  data.msg = text\n                  util.showSystemMsg(data)\n                )\n            })\n          when \"changeNoTalk\"\n            base.baseState.set(\"notalk\",attr)\n          when 'whiteListGet'\n            if attr.save_as_file\n              return youyu_chat_console.save(base.baseState.get(\"white_list\"),\"whiteList.json\")\n            else\n              return base.baseState.get(\"white_list\")\n          when 'whiteListSet'\n            code.set(\"white_list\",attr)\n            text = \"白名单被重置\"\n            code.save({\n              success: ->\n                base.baseState.get('room').send({\n                  text: text\n                  attr: {\n                    msgLevel: \"system\"\n                    reload: true\n                  }\n                },\n                {\n                  type: 'text'\n                },\n                (data) ->\n                  util.refreshPage({msg:{attr:{reload:true}}})\n                )\n            })\n          when 'whiteListAdd'\n            white_list = base.baseState.get('white_list')\n            white_list = _.extend(white_list,attr)\n            code.set(\"white_list\",white_list)\n            code.save({\n              success: ->\n                console.log white_list\n                base.baseState.set(\"white_list\",white_list)\n            })\n          when 'whiteListRemove'\n            @getCheatCode().then ->\n              white_list = base.baseState.get('white_list')\n              key = util.getKeyByValue(white_list,attr)\n              delete white_list[key]\n              code.set(\"white_list\",white_list)\n              code.save({\n                success: ->\n                  text = \"白名单里删除了#{attr}\"\n                  base.baseState.set(\"white_list\",white_list)\n                  room_name = base.baseState.get('room_name')\n                  base.baseState.get('room').remove(\"#{room_name}:#{key}\")\n                  base.baseState.get('room').send({\n                    text: text\n                    attr: {\n                      msgLevel: \"system\"\n                      userReload: key\n                    }\n                  },\n                  {\n                    type: 'text'\n                  },\n                  (data) ->\n                    #util.refreshPage({msg:{attr:{reload:true}}})\n                  )\n              })\n          when 'whiteListOpen'\n            code.set(\"white_list_open\",attr)\n            if attr\n              text = \"开启白名单功能\"\n            else\n              text = \"关闭白名单功能\"\n            code.save({\n              success: ->\n                base.baseState.get('room').send({\n                  text: text\n                  attr: {\n                    msgLevel: \"system\"\n                    reload: true\n                  }\n                },\n                {\n                  type: 'text'\n                },\n                (data) ->\n                  util.refreshPage({msg:{attr:{reload:true}}})\n                )\n            })\n          when 'broadCastSet'\n            code.set(\"broad_cast\",attr)\n            base.baseState.set(\"broad_cast\",attr)\n            code.save({\n              success: ->\n                console.log \"广播更改完成\"\n            })\n          when 'broadCastPush'\n            text = base.baseState.get(\"broad_cast\")\n            util.showBroadCast({msg:{text: text}})\n            base.baseState.get('room').send({\n              text: text\n              attr: {\n                msgLevel: \"broad_cast\"\n              }\n            },\n            {\n              type: 'text'\n              transient: true\n            },\n            (data) ->\n            )\n          when 'noticeSet'\n            code.set(\"notice\",attr)\n            base.baseState.set(\"notice\",attr)\n            code.save({\n              success: ->\n                console.log \"通知更改完成\"\n            })\n          when 'getOnlineUser'\n            util.fetchOnlineUser().then((online_members)->\n              console.log online_members\n            )\n          when 'getOnlineUserCount'\n            util.fetchOnlineUser().then((online_members)->\n              online_members = _.without online_members,\"qiniuLive:游客\"\n              console.log online_members.length\n            )\n          when 'setLiveStream'\n            code.set(\"live_stream\",attr)\n            base.baseState.set(\"live_stream\",attr)\n            code.save({\n              success: ->\n                console.log \"直播流已设置\"\n            })\n          else\n            console.log \"no command\"\n      else\n        console.log \"permit denied\"\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatCheatCode.coffee\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body{background-color:#000}.live-area{width:80%;left:0;position:absolute;height:100%}.live-area.remove{width:0}.chat-area{width:20%;position:absolute;right:0;height:100%;background-color:#fff}.chat-area.full{width:100%;z-index:100}.video-container{position:relative}#printWall{position:absolute;overflow:auto;padding:20px;border:1px solid #c2c2c2;height:90%;width:100%;text-align:left;bottom:100px}#really-cool-video{display:inline-block;width:60%}.input-group{position:absolute;bottom:0;height:10%}span.red{color:red}span.blue{color:blue}span.green{color:green}span.info{color:#31708f}.video-js .vjs-big-play-button{position:relative;margin:0 auto;top:50%}.vjs-progress-timepoint{position:absolute;top:0;bottom:0;width:6px;margin-left:-3px;border-radius:3px;background-color:#fff;cursor:pointer}.vjs-progress-tooltip{display:none;position:absolute;bottom:100%;max-width:150px;padding:.3em 1em;margin-bottom:15px;background-color:#000;color:#fff}.vjs-progress-tooltip:after{content:\\\" \\\";position:absolute;top:100%;left:50%;margin-left:-10px;width:0;height:0;font:0/0 a;border:10px solid transparent;border-top-color:#000;border-bottom-width:0}.vjs-progress-tooltip span{margin-left:1em}.cover{background-image:url(http://7xl9ad.com1.z0.glb.clouddn.com/background/2.jpg);background-size:cover;background-repeat:no-repeat;z-index:1}.cover,.cover .cover-mark{width:100%;height:100%;position:absolute}.cover .cover-mark{background-color:#000;opacity:.3;z-index:2}.cover .cover-text{z-index:3;position:relative;display:inline-block;text-align:center;color:#fff}.cover .cover-text.cover-rendered{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}#chatInput{height:100px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/sass-loader!./src/YouYuChat/stylesheets/YouYuChat.scss\n ** module id = 4\n ** module chunks = 1\n **/","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/charenc/charenc.js\n ** module id = 5\n ** module chunks = 1\n **/","module.exports = do ->\n  YouYuChatConfig = {\n    appid: \"hekj5ea51b0k4o993qw30inb2h2vbct0qkopr1e006xvbbny\"\n    appkey: 'uwk4yxmcb106xheksklefuu2maj0hx6i3mbtu0oc0nbmk25a'\n    cheat_code_id: '565c1e7f00b0023c05f80f99'\n  }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatConfig.coffee\n **/","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if(typeof message == 'undefined')\r\n      return;\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/md5/md5.js\n ** module id = 7\n ** module chunks = 1\n **/","require './stylesheets/YouYuChat.scss'\nrequire './javascript/YouYuChatMain'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/YouYuChatEnter.coffee\n **/","module.exports = ->\n  YouYuChatConsole = {\n    save: (data,filename) ->\n      unless data\n        console.error \"no data\"\n        return\n      unless filename\n        filename = 'youyu_chat_console.json'\n\n      if typeof data ==\"object\"\n        data = JSON.stringify(data,undefined,4)\n\n      blob = new Blob([data],{type: 'text'})\n      e = document.createEvent('MouseEvents')\n      a = document.createElement('a')\n\n      a.download = filename\n      a.href = window.URL.createObjectURL(blob)\n      a.dataset.downloadurl = ['text/json',a.download,a.href].join ':'\n      e.initMouseEvent 'click',true,false,window,0,0,0,0,0,false,false,false,false,0,null\n      a.dispatchEvent(e)\n  }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatConsole.coffee\n **/","YouYuChatCheatCode = require './YouYuChatCheatCode'\nYouYuChatUtil = require './YouYuChatUtil'\ncheat_code = new YouYuChatCheatCode\nutil = new YouYuChatUtil\n\nmodule.exports = do ->\n  window.talklocal = (token)->\n    cheat_code.setCheatCode(\"changeNoTalk\",false,token)\n\n  window.talkon = (token)->\n    cheat_code.setCheatCode(\"shutup\",false,token)\n\n  window.talkoff = (token)->\n    cheat_code.setCheatCode(\"shutup\",true,token)\n\n  window.tokenchange = (oldtoken,newtoken)->\n    cheat_code.setCheatCode(\"changeToken\",newtoken,oldtoken)\n\n  window.authcode = (token,auth_code)->\n    cheat_code.setCheatCode(\"changeAuthCode\",auth_code,token)\n\n  window.listget = (token,attr) ->\n    attr ||= false\n    cheat_code.setCheatCode(\"whiteListGet\",{save_as_file: attr},token)\n\n  window.listset = (token,white_list) ->\n    cheat_code.setCheatCode(\"whiteListSet\",white_list,token)\n\n  window.listpush = (token,white_list) ->\n    cheat_code.setCheatCode(\"whiteListAdd\",white_list,token)\n\n  window.listpop = (token,value) ->\n    cheat_code.setCheatCode(\"whiteListRemove\",value,token)\n\n  window.liston = (token) ->\n    cheat_code.setCheatCode(\"whiteListOpen\",true,token)\n\n  window.listoff = (token) ->\n    cheat_code.setCheatCode(\"whiteListOpen\",false,token)\n\n  window.castset = (token,msg) ->\n    cheat_code.setCheatCode(\"broadCastSet\",msg,token)\n\n  window.castpush = (token,msg) ->\n    cheat_code.setCheatCode(\"broadCastPush\",\"\",token)\n\n  window.onlineuser = (token) ->\n    cheat_code.setCheatCode(\"getOnlineUser\",\"\",token)\n\n  window.onlineusercount = (token) ->\n    cheat_code.setCheatCode(\"getOnlineUserCount\",\"\",token)\n\n  window.noticeset = (token,attr) ->\n    cheat_code.setCheatCode(\"noticeSet\",attr,token)\n\n  window.setstream = (token,liveStram) ->\n    cheat_code.setCheatCode(\"setLiveStream\",liveStram,token)\n\n  window.screentoggle = ->\n    $livearea = $(\".live-area\")\n    $chatarea = $(\".chat-area\")\n    $livearea.toggleClass(\"remove\")\n    $chatarea.toggleClass(\"full\")\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatExpose.coffee\n **/","YouYuChatBase = require './YouYuChatBase'\nYouYuChatUtil = require './YouYuChatUtil'\nYouYuChatCheatCode = require './YouYuChatCheatCode'\nYouYuChatPlayer = require './YouYuChatPlayer'\nrequire './YouYuChatExpose'\nvisitorAccess = require './YouYuChatVisitor'\nuserAccess = require './YouYuChatUser'\nmd5 = require 'md5'\nbase = new YouYuChatBase\nutil = new YouYuChatUtil\ncheat_code = new YouYuChatCheatCode\nplayer = new YouYuChatPlayer\n\nmodule.exports = do ->\n  registerEvent = ->\n    util.elements().chatArea.on 'keydown', (e)->\n      if e.keyCode == 13\n        $(document).trigger(\"pressEnter\")\n\n    util.elements().modalDialog.on 'keydown', (e)->\n      if e.keyCode == 13\n        $(document).trigger(\"visitor:confirmName:click\")\n\n    util.elements().sendMsgBtn.on 'click', (e)->\n      $(document).trigger(\"sendMsgBtn:click\")\n\n    util.elements().inputSend.on 'click', (e)->\n      $(document).trigger(\"inputSend:click\")\n\n    util.elements().confirmName.on 'click', (e)->\n      $(document).trigger(\"confirmName:click\")\n\n  $(document).on \"started\",->\n    base.getConversation()\n    console.log \"started\"\n    if util.isVisitor()\n      registerEvent()\n      $(document).trigger(\"visitor:started\")\n    else\n      $(document).trigger(\"user:started\")\n    cheat_code.getCheatCode().then(->\n      player.init()\n      $coverText = util.elements().coverText\n      $coverText.html(base.baseState.get(\"notice\"))\n      height = $coverText.height()\n      width = $coverText.width()\n      $coverText.addClass(\"cover-rendered\")\n      $coverText.css(\n        \"height\": height,\n        \"width\": width\n      )\n      auth_code = window.location.hash\n      if md5(auth_code.slice(\"1\")) != base.baseState.get(\"auth_code\")\n        window.location.href=\"/forbidden\"\n        return\n    )\n\n  $(document).on \"conversation_id:Got\",->\n    console.log \"conversation_id got\"\n    base.connectRoom()\n    base.currentClient.realtime.on \"error\",->\n      console.log \"error\"\n\n  $(document).on \"room:connected\",->\n    #base.closeRealTime(base.currentClient.realtime)\n    console.log \"room connected\"\n    if util.isVisitor()\n      $(document).trigger(\"visitor:room:connected\")\n    else\n      $(document).trigger(\"user:room:connected\")\n\n  $(document).on \"room:created\",->\n    console.log \"room created\"\n\n  $(document).on \"realtime:closed\",->\n    console.log \"realtime closed\"\n    unless util.isVisitor()\n      $(document).trigger(\"visitor:realtime:closed\")\n    else\n      $(document).trigger(\"user:realtime:closed\")\n\n  $(document).on \"log:got\",->\n    util.showChatLog()\n    util.fetchOnlineUser().then((online_members)->\n      online_members = _.without online_members,\"#{base.baseState.get('room_name')}:游客\"\n      util.showSystemMsg({msg:\"当前登录用户有#{online_members.length}人\"})\n    )\n    console.log \"log got\"\n\n  $(document).on \"pressEnter\", ->\n    console.log \"press enter\"\n    if util.isVisitor()\n      $(document).trigger(\"visitor:pressEnter\")\n    else\n      $(document).trigger(\"user:pressEnter\")\n\n  $(document).on \"sendMsgBtn:click\", ->\n    console.log \"click sendMsgBtn\"\n    $(document).trigger(\"pressEnter\")\n\n  $(document).on \"inputSend:click\", ->\n    console.log \"click inputSend\"\n    $(document).trigger(\"visitor:inputSend:click\") if util.isVisitor()\n\n  $(document).on \"confirmName:click\", ->\n    console.log \"click conrfirmName\"\n    $(document).trigger(\"visitor:confirmName:click\") if util.isVisitor()\n\n  $(document).on \"fetchOnlineUser:done\", ->\n    console.log \"fetchOnlineUser done\"\n    online_members = base.baseState.get(\"online_members\")\n    members = base.baseState.get(\"members\")\n    room = base.baseState.get(\"room\")\n    offline_members = _.filter(members,(member)->\n      return member if online_members.indexOf(member) == -1\n    )\n    online_members = _.without online_members,\"#{base.baseState.get('room_name')}:游客\"\n    console.log offline_members\n    room.remove(offline_members,->\n      console.log \"remove done\"\n    )\n\n  visitorAccess()\n  userAccess()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatMain.coffee\n **/","YouYuChatBase = require './YouYuChatBase'\nbase = new YouYuChatBase\nmodule.exports = ->\n  YouYuChatPlayer = {\n    state:\n      inited: false\n    init: ->\n      unless @state.inited\n        playerContainer = $(\"<video />\", {\n            \"class\": \"video-js vjs-default-skin\"\n          })\n          .attr {\n            controls: true\n            }\n          .css {\n            width: \"100%\"\n            height: \"100%\"\n            }\n\n        playerContainer.append $(\"<source />\", {\n            src: base.baseState.get('live_stream')\n            type: \"rtmp/mp4\"\n          })\n\n        container = $(\"#player\")\n        container.append playerContainer\n        player = videojs playerContainer.get(0),{width:500,height:500},\n          ->\n            do @play\n            $live_area = $(\".live-area\")\n            width = $live_area.width()\n            @on 'loadeddata', ->\n              $(\".cover\").remove()\n              $live_area.css(width: \"79%\")\n              setTimeout =>\n                $live_area.css(width: \"80%\")\n              , 100\n        @state.inited = true\n        return player\n  }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatPlayer.coffee\n **/","Config = require './YouYuChatConfig'\nmodule.exports = ->\n  YouYuChatState = {\n    appid: Config.appid\n    appkey: Config.appkey\n    msgTime: undefined\n    logFlag: false\n    log: []\n    room_name:\"YouYuLive\"\n    room: undefined\n    client_id:\"游客\"\n    #client_id:\"gaogao\"\n    realtime: undefined\n    conv_id: undefined\n    members: []\n    notalk: false\n    white_list: {}\n    white_list_open: true\n    online_members: []\n    live_stream: \"rtmp://pili-live-rtmp.live.youyu.im/cimu/test\"\n  }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatState.coffee\n **/","YouYuChatUtil = require './YouYuChatUtil'\nYouYuChatBase = require './YouYuChatBase'\nutil = new YouYuChatUtil\nbase = new YouYuChatBase\n\nmodule.exports = ->\n  $(document).on \"user:started\",->\n    util.elements().sendMsgBtn.attr(\"disabled\",false)\n    console.log \"user:started\"\n  $(document).on \"user:room:connected\",->\n    room = base.baseState.get('room')\n    realtime = base.baseState.get('realtime')\n    room.join(->\n      util.showInfo \"你的昵称为<span class='green'>#{util.parseClientIdToName(base.baseState.get('client_id'))}</span>,已经可以发言了\"\n      util.fetchOnlineUser().then((online_members)->\n        online_members = _.without online_members,\"qiniuLive:游客\"\n        util.showSystemMsg({msg:\"当前登录用户有#{online_members.length}人\"})\n      )\n    )\n    room.receive (data)->\n      util.refreshPage(data)\n      if  util.parseMsgLevel(data) == \"member\"\n        util.showMsg(data)\n      else if util.parseMsgLevel(data) == \"broad_cast\"\n        util.showBroadCast(data)\n      else\n        util.getCheatCode().then(\n          ->\n            util.showSystemMsg(data)\n        )\n\n    realtime.on 'reuse',->\n      util.showInfo \"正在重新连接有渔直播聊天系统\"\n\n    realtime.on 'error',->\n      util.showInfo '好像有什么不对劲 请打开console 查看相关日志 '\n\n    realtime.on 'kicked',(res) ->\n      console.log res\n      util.showSystemMsg({msg:\"你已经被踢出该房间\"})\n      util.refreshPage({msg:{attr:{reload:true}}})\n\n    realtime.on 'membersleft',(res) ->\n      _.each(res.m,(m)->\n        clientId = m.split(\":\")[1]\n        console.log \"#{util.parseClientIdToName(clientId)}离开了房间\"\n      )\n\n    realtime.on 'join',(res)->\n      _.each(res.m, (m)->\n        name = m.split(\":\")[1]\n        unless name == base.baseState.get('client_id') or name == \"游客\"\n          name = util.parseClientIdToName(name)\n          util.showInfo(name + '加入有渔直播间')\n          util.fetchOnlineUser().then((online_members)->\n            online_members = _.without online_members,\"qiniuLive:游客\"\n            util.showSystemMsg({msg:\"当前登录用户有#{online_members.length}人\"})\n          )\n      )\n\n  $(document).on \"user:pressEnter\", ->\n    msg = util.elements().inputSend.val()\n    room = base.baseState.get('room')\n    if base.baseState.get('notalk')\n      alert \"目前是禁止发言状态\"\n      return\n    else\n      unless util.isEmptyString(msg)\n        room.send({\n          text:msg\n          attr: {\n            msgLevel: \"member\"\n          }\n        },\n        {\n          type: 'text'\n        },\n        (data) ->\n          util.clearInput()\n          util.showMyMsg(data,msg)\n        )\n      else\n        alert \"请输入点文字\"\n        return\n\n  $(document).on \"user:inputSend:click\", ->\n\n  $(document).on \"visitor:realtime:closed\", ->\n    console.log \"vistor realtime closed\"\n    $(document).trigger(\"started\")\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatUser.coffee\n **/","YouYuChatUtil = require './YouYuChatUtil'\nYouYuChatBase = require './YouYuChatBase'\nYouYuChatCheatCode = require './YouYuChatCheatCode'\nutil = new YouYuChatUtil\nbase = new YouYuChatBase\ncheat_code = new YouYuChatCheatCode\n\nmodule.exports = ->\n  $(document).on \"visitor:started\",->\n    util.showInfo \"正在连接有渔直播室...\"\n\n  $(document).on \"visitor:room:connected\",->\n    util.showInfo \"欢迎来到有渔直播课堂，您可通过下方聊天框与直播老师互动。\"\n    util.showBroadCast {msg:{text:base.baseState.get('broad_cast')}}\n    room = base.baseState.get('room')\n    realtime = base.baseState.get('realtime')\n    room.join(->\n      base.getLog(room)\n    )\n    room.receive (data)->\n      util.refreshPage(data)\n      if  util.parseMsgLevel(data) == \"member\"\n        util.showMsg(data)\n      else if util.parseMsgLevel(data) == \"broad_cast\"\n        util.showBroadCast(data)\n      else\n        util.showSystemMsg(data)\n    realtime.on 'reuse',->\n      util.showInfo \"正在重新连接有渔直播聊天系统\"\n\n    realtime.on 'error',->\n      util.showInfo '好像有什么不对劲 请打开console 查看相关日志 '\n\n    realtime.on 'join',(res)->\n      _.each(res.m, (m)->\n        name = m.split(\":\")[1]\n        unless name == base.baseState.get('client_id')\n          name = util.parseClientIdToName(name)\n          util.showInfo(name + '加入有渔直播间')\n          util.fetchOnlineUser().then((online_members)->\n            online_members = _.without online_members,\"qiniuLive:游客\"\n            util.showSystemMsg({msg:\"当前登录用户有#{online_members.length}人\"})\n          )\n      )\n\n    realtime.on 'kicked',(res) ->\n      console.log res\n      util.showSystemMsg({msg:\"你已经被踢出该房间\"})\n\n    realtime.on 'membersleft',(res) ->\n      _.each(res.m,(m)->\n        clientId = m.split(\":\")[1]\n        console.log \"#{util.parseClientIdToName(clientId)}离开了房间\"\n      )\n\n  $(document).on \"visitor:pressEnter\", ->\n    alert \"你目前还未输入姓名，不可以发言\"\n\n  $(document).on \"visitor:inputSend:click\", ->\n    util.elements().changeName.modal(\"show\")\n\n  $(document).on \"visitor:confirmName:click\", ->\n    client_id = util.elements().inputNickName.val()\n    cheat_code.getCheatCode().then ->\n      if util.inWhiteList(client_id) || !base.baseState.get(\"white_list_open\")\n        base.baseState.set('client_id',client_id)\n        unless util.isEmptyString(client_id)\n          base.closeRealTime base.baseState.get('realtime')\n          util.elements().changeName.modal(\"hide\")\n        else\n          alert \"昵称不能为空\"\n      else\n        alert \"你输入的昵称不在白名单中\"\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/YouYuChat/javascript/YouYuChatVisitor.coffee\n **/","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/crypt/crypt.js\n ** module id = 16\n ** module chunks = 1\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 17\n ** module chunks = 1\n **/","/**\n * Determine if an object is Buffer\n *\n * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * License:  MIT\n *\n * `npm install is-buffer`\n */\n\nmodule.exports = function (obj) {\n  return !!(\n    obj != null &&\n    obj.constructor &&\n    typeof obj.constructor.isBuffer === 'function' &&\n    obj.constructor.isBuffer(obj)\n  )\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/md5/~/is-buffer/index.js\n ** module id = 18\n ** module chunks = 1\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 19\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./YouYuChat.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./YouYuChat.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./../../../node_modules/sass-loader/index.js!./YouYuChat.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/YouYuChat/stylesheets/YouYuChat.scss\n ** module id = 20\n ** module chunks = 1\n **/"],"sourceRoot":""}